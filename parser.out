Created by PLY version 3.4 (http://www.dabeaz.com/ply)

Grammar

Rule 0     S' -> oprex
Rule 1     oprex -> <empty>
Rule 2     oprex -> WHITESPACE
Rule 3     oprex -> NEWLINE
Rule 4     oprex -> NEWLINE expression
Rule 5     oprex -> NEWLINE INDENT expression DEDENT
Rule 6     expression -> VARNAME NEWLINE
Rule 7     expression -> VARNAME NEWLINE indent definitions DEDENT
Rule 8     expression -> SLASH cell moreCells NEWLINE
Rule 9     expression -> SLASH cell moreCells NEWLINE indent definitions DEDENT
Rule 10    indent -> INDENT
Rule 11    cell -> VARNAME SLASH
Rule 12    cell -> VARNAME QUESTMARK SLASH
Rule 13    cell -> OPENPAREN VARNAME CLOSEPAREN SLASH
Rule 14    cell -> OPENPAREN VARNAME CLOSEPAREN QUESTMARK SLASH
Rule 15    cell -> OPENPAREN VARNAME QUESTMARK CLOSEPAREN SLASH
Rule 16    moreCells -> <empty>
Rule 17    moreCells -> cell moreCells
Rule 18    definitions -> <empty>
Rule 19    definitions -> definition definitions
Rule 20    definition -> assignment definition
Rule 21    definition -> assignment expression
Rule 22    definition -> assignment CHARCLASS NEWLINE
Rule 23    definition -> assignment LITERAL NEWLINE
Rule 24    assignment -> VARNAME EQUALSIGN
Rule 25    assignment -> VARNAME COLON

Terminals, with rules where they appear

CHARCLASS            : 22
CLOSEPAREN           : 13 14 15
COLON                : 25
DEDENT               : 5 7 9
EQUALSIGN            : 24
INDENT               : 5 10
LITERAL              : 23
NEWLINE              : 3 4 5 6 7 8 9 22 23
OPENPAREN            : 13 14 15
QUESTMARK            : 12 14 15
SLASH                : 8 9 11 12 13 14 15
VARNAME              : 6 7 11 12 13 14 15 24 25
WHITESPACE           : 2
error                : 

Nonterminals, with rules where they appear

assignment           : 20 21 22 23
cell                 : 8 9 17
definition           : 19 20
definitions          : 7 9 19
expression           : 4 5 21
indent               : 7 9
moreCells            : 8 9 17
oprex                : 0

Parsing method: LALR

state 0

    (0) S' -> . oprex
    (1) oprex -> .
    (2) oprex -> . WHITESPACE
    (3) oprex -> . NEWLINE
    (4) oprex -> . NEWLINE expression
    (5) oprex -> . NEWLINE INDENT expression DEDENT

    $end            reduce using rule 1 (oprex -> .)
    WHITESPACE      shift and go to state 2
    NEWLINE         shift and go to state 3

    oprex                          shift and go to state 1

state 1

    (0) S' -> oprex .



state 2

    (2) oprex -> WHITESPACE .

    $end            reduce using rule 2 (oprex -> WHITESPACE .)


state 3

    (3) oprex -> NEWLINE .
    (4) oprex -> NEWLINE . expression
    (5) oprex -> NEWLINE . INDENT expression DEDENT
    (6) expression -> . VARNAME NEWLINE
    (7) expression -> . VARNAME NEWLINE indent definitions DEDENT
    (8) expression -> . SLASH cell moreCells NEWLINE
    (9) expression -> . SLASH cell moreCells NEWLINE indent definitions DEDENT

    $end            reduce using rule 3 (oprex -> NEWLINE .)
    INDENT          shift and go to state 4
    VARNAME         shift and go to state 5
    SLASH           shift and go to state 6

    expression                     shift and go to state 7

state 4

    (5) oprex -> NEWLINE INDENT . expression DEDENT
    (6) expression -> . VARNAME NEWLINE
    (7) expression -> . VARNAME NEWLINE indent definitions DEDENT
    (8) expression -> . SLASH cell moreCells NEWLINE
    (9) expression -> . SLASH cell moreCells NEWLINE indent definitions DEDENT

    VARNAME         shift and go to state 5
    SLASH           shift and go to state 6

    expression                     shift and go to state 8

state 5

    (6) expression -> VARNAME . NEWLINE
    (7) expression -> VARNAME . NEWLINE indent definitions DEDENT

    NEWLINE         shift and go to state 9


state 6

    (8) expression -> SLASH . cell moreCells NEWLINE
    (9) expression -> SLASH . cell moreCells NEWLINE indent definitions DEDENT
    (11) cell -> . VARNAME SLASH
    (12) cell -> . VARNAME QUESTMARK SLASH
    (13) cell -> . OPENPAREN VARNAME CLOSEPAREN SLASH
    (14) cell -> . OPENPAREN VARNAME CLOSEPAREN QUESTMARK SLASH
    (15) cell -> . OPENPAREN VARNAME QUESTMARK CLOSEPAREN SLASH

    VARNAME         shift and go to state 10
    OPENPAREN       shift and go to state 12

    cell                           shift and go to state 11

state 7

    (4) oprex -> NEWLINE expression .

    $end            reduce using rule 4 (oprex -> NEWLINE expression .)


state 8

    (5) oprex -> NEWLINE INDENT expression . DEDENT

    DEDENT          shift and go to state 13


state 9

    (6) expression -> VARNAME NEWLINE .
    (7) expression -> VARNAME NEWLINE . indent definitions DEDENT
    (10) indent -> . INDENT

    $end            reduce using rule 6 (expression -> VARNAME NEWLINE .)
    VARNAME         reduce using rule 6 (expression -> VARNAME NEWLINE .)
    DEDENT          reduce using rule 6 (expression -> VARNAME NEWLINE .)
    INDENT          shift and go to state 14

    indent                         shift and go to state 15

state 10

    (11) cell -> VARNAME . SLASH
    (12) cell -> VARNAME . QUESTMARK SLASH

    SLASH           shift and go to state 17
    QUESTMARK       shift and go to state 16


state 11

    (8) expression -> SLASH cell . moreCells NEWLINE
    (9) expression -> SLASH cell . moreCells NEWLINE indent definitions DEDENT
    (16) moreCells -> .
    (17) moreCells -> . cell moreCells
    (11) cell -> . VARNAME SLASH
    (12) cell -> . VARNAME QUESTMARK SLASH
    (13) cell -> . OPENPAREN VARNAME CLOSEPAREN SLASH
    (14) cell -> . OPENPAREN VARNAME CLOSEPAREN QUESTMARK SLASH
    (15) cell -> . OPENPAREN VARNAME QUESTMARK CLOSEPAREN SLASH

    NEWLINE         reduce using rule 16 (moreCells -> .)
    VARNAME         shift and go to state 10
    OPENPAREN       shift and go to state 12

    cell                           shift and go to state 19
    moreCells                      shift and go to state 18

state 12

    (13) cell -> OPENPAREN . VARNAME CLOSEPAREN SLASH
    (14) cell -> OPENPAREN . VARNAME CLOSEPAREN QUESTMARK SLASH
    (15) cell -> OPENPAREN . VARNAME QUESTMARK CLOSEPAREN SLASH

    VARNAME         shift and go to state 20


state 13

    (5) oprex -> NEWLINE INDENT expression DEDENT .

    $end            reduce using rule 5 (oprex -> NEWLINE INDENT expression DEDENT .)


state 14

    (10) indent -> INDENT .

    VARNAME         reduce using rule 10 (indent -> INDENT .)
    DEDENT          reduce using rule 10 (indent -> INDENT .)


state 15

    (7) expression -> VARNAME NEWLINE indent . definitions DEDENT
    (18) definitions -> .
    (19) definitions -> . definition definitions
    (20) definition -> . assignment definition
    (21) definition -> . assignment expression
    (22) definition -> . assignment CHARCLASS NEWLINE
    (23) definition -> . assignment LITERAL NEWLINE
    (24) assignment -> . VARNAME EQUALSIGN
    (25) assignment -> . VARNAME COLON

    DEDENT          reduce using rule 18 (definitions -> .)
    VARNAME         shift and go to state 22

    definitions                    shift and go to state 24
    assignment                     shift and go to state 23
    definition                     shift and go to state 21

state 16

    (12) cell -> VARNAME QUESTMARK . SLASH

    SLASH           shift and go to state 25


state 17

    (11) cell -> VARNAME SLASH .

    VARNAME         reduce using rule 11 (cell -> VARNAME SLASH .)
    OPENPAREN       reduce using rule 11 (cell -> VARNAME SLASH .)
    NEWLINE         reduce using rule 11 (cell -> VARNAME SLASH .)


state 18

    (8) expression -> SLASH cell moreCells . NEWLINE
    (9) expression -> SLASH cell moreCells . NEWLINE indent definitions DEDENT

    NEWLINE         shift and go to state 26


state 19

    (17) moreCells -> cell . moreCells
    (16) moreCells -> .
    (17) moreCells -> . cell moreCells
    (11) cell -> . VARNAME SLASH
    (12) cell -> . VARNAME QUESTMARK SLASH
    (13) cell -> . OPENPAREN VARNAME CLOSEPAREN SLASH
    (14) cell -> . OPENPAREN VARNAME CLOSEPAREN QUESTMARK SLASH
    (15) cell -> . OPENPAREN VARNAME QUESTMARK CLOSEPAREN SLASH

    NEWLINE         reduce using rule 16 (moreCells -> .)
    VARNAME         shift and go to state 10
    OPENPAREN       shift and go to state 12

    cell                           shift and go to state 19
    moreCells                      shift and go to state 27

state 20

    (13) cell -> OPENPAREN VARNAME . CLOSEPAREN SLASH
    (14) cell -> OPENPAREN VARNAME . CLOSEPAREN QUESTMARK SLASH
    (15) cell -> OPENPAREN VARNAME . QUESTMARK CLOSEPAREN SLASH

    CLOSEPAREN      shift and go to state 29
    QUESTMARK       shift and go to state 28


state 21

    (19) definitions -> definition . definitions
    (18) definitions -> .
    (19) definitions -> . definition definitions
    (20) definition -> . assignment definition
    (21) definition -> . assignment expression
    (22) definition -> . assignment CHARCLASS NEWLINE
    (23) definition -> . assignment LITERAL NEWLINE
    (24) assignment -> . VARNAME EQUALSIGN
    (25) assignment -> . VARNAME COLON

    DEDENT          reduce using rule 18 (definitions -> .)
    VARNAME         shift and go to state 22

    definition                     shift and go to state 21
    assignment                     shift and go to state 23
    definitions                    shift and go to state 30

state 22

    (24) assignment -> VARNAME . EQUALSIGN
    (25) assignment -> VARNAME . COLON

    EQUALSIGN       shift and go to state 31
    COLON           shift and go to state 32


state 23

    (20) definition -> assignment . definition
    (21) definition -> assignment . expression
    (22) definition -> assignment . CHARCLASS NEWLINE
    (23) definition -> assignment . LITERAL NEWLINE
    (20) definition -> . assignment definition
    (21) definition -> . assignment expression
    (22) definition -> . assignment CHARCLASS NEWLINE
    (23) definition -> . assignment LITERAL NEWLINE
    (6) expression -> . VARNAME NEWLINE
    (7) expression -> . VARNAME NEWLINE indent definitions DEDENT
    (8) expression -> . SLASH cell moreCells NEWLINE
    (9) expression -> . SLASH cell moreCells NEWLINE indent definitions DEDENT
    (24) assignment -> . VARNAME EQUALSIGN
    (25) assignment -> . VARNAME COLON

    CHARCLASS       shift and go to state 35
    LITERAL         shift and go to state 34
    VARNAME         shift and go to state 36
    SLASH           shift and go to state 6

    definition                     shift and go to state 33
    assignment                     shift and go to state 23
    expression                     shift and go to state 37

state 24

    (7) expression -> VARNAME NEWLINE indent definitions . DEDENT

    DEDENT          shift and go to state 38


state 25

    (12) cell -> VARNAME QUESTMARK SLASH .

    VARNAME         reduce using rule 12 (cell -> VARNAME QUESTMARK SLASH .)
    OPENPAREN       reduce using rule 12 (cell -> VARNAME QUESTMARK SLASH .)
    NEWLINE         reduce using rule 12 (cell -> VARNAME QUESTMARK SLASH .)


state 26

    (8) expression -> SLASH cell moreCells NEWLINE .
    (9) expression -> SLASH cell moreCells NEWLINE . indent definitions DEDENT
    (10) indent -> . INDENT

    $end            reduce using rule 8 (expression -> SLASH cell moreCells NEWLINE .)
    VARNAME         reduce using rule 8 (expression -> SLASH cell moreCells NEWLINE .)
    DEDENT          reduce using rule 8 (expression -> SLASH cell moreCells NEWLINE .)
    INDENT          shift and go to state 14

    indent                         shift and go to state 39

state 27

    (17) moreCells -> cell moreCells .

    NEWLINE         reduce using rule 17 (moreCells -> cell moreCells .)


state 28

    (15) cell -> OPENPAREN VARNAME QUESTMARK . CLOSEPAREN SLASH

    CLOSEPAREN      shift and go to state 40


state 29

    (13) cell -> OPENPAREN VARNAME CLOSEPAREN . SLASH
    (14) cell -> OPENPAREN VARNAME CLOSEPAREN . QUESTMARK SLASH

    SLASH           shift and go to state 42
    QUESTMARK       shift and go to state 41


state 30

    (19) definitions -> definition definitions .

    DEDENT          reduce using rule 19 (definitions -> definition definitions .)


state 31

    (24) assignment -> VARNAME EQUALSIGN .

    CHARCLASS       reduce using rule 24 (assignment -> VARNAME EQUALSIGN .)
    LITERAL         reduce using rule 24 (assignment -> VARNAME EQUALSIGN .)
    VARNAME         reduce using rule 24 (assignment -> VARNAME EQUALSIGN .)
    SLASH           reduce using rule 24 (assignment -> VARNAME EQUALSIGN .)


state 32

    (25) assignment -> VARNAME COLON .

    CHARCLASS       reduce using rule 25 (assignment -> VARNAME COLON .)
    LITERAL         reduce using rule 25 (assignment -> VARNAME COLON .)
    VARNAME         reduce using rule 25 (assignment -> VARNAME COLON .)
    SLASH           reduce using rule 25 (assignment -> VARNAME COLON .)


state 33

    (20) definition -> assignment definition .

    VARNAME         reduce using rule 20 (definition -> assignment definition .)
    DEDENT          reduce using rule 20 (definition -> assignment definition .)


state 34

    (23) definition -> assignment LITERAL . NEWLINE

    NEWLINE         shift and go to state 43


state 35

    (22) definition -> assignment CHARCLASS . NEWLINE

    NEWLINE         shift and go to state 44


state 36

    (6) expression -> VARNAME . NEWLINE
    (7) expression -> VARNAME . NEWLINE indent definitions DEDENT
    (24) assignment -> VARNAME . EQUALSIGN
    (25) assignment -> VARNAME . COLON

    NEWLINE         shift and go to state 9
    EQUALSIGN       shift and go to state 31
    COLON           shift and go to state 32


state 37

    (21) definition -> assignment expression .

    VARNAME         reduce using rule 21 (definition -> assignment expression .)
    DEDENT          reduce using rule 21 (definition -> assignment expression .)


state 38

    (7) expression -> VARNAME NEWLINE indent definitions DEDENT .

    $end            reduce using rule 7 (expression -> VARNAME NEWLINE indent definitions DEDENT .)
    VARNAME         reduce using rule 7 (expression -> VARNAME NEWLINE indent definitions DEDENT .)
    DEDENT          reduce using rule 7 (expression -> VARNAME NEWLINE indent definitions DEDENT .)


state 39

    (9) expression -> SLASH cell moreCells NEWLINE indent . definitions DEDENT
    (18) definitions -> .
    (19) definitions -> . definition definitions
    (20) definition -> . assignment definition
    (21) definition -> . assignment expression
    (22) definition -> . assignment CHARCLASS NEWLINE
    (23) definition -> . assignment LITERAL NEWLINE
    (24) assignment -> . VARNAME EQUALSIGN
    (25) assignment -> . VARNAME COLON

    DEDENT          reduce using rule 18 (definitions -> .)
    VARNAME         shift and go to state 22

    definition                     shift and go to state 21
    assignment                     shift and go to state 23
    definitions                    shift and go to state 45

state 40

    (15) cell -> OPENPAREN VARNAME QUESTMARK CLOSEPAREN . SLASH

    SLASH           shift and go to state 46


state 41

    (14) cell -> OPENPAREN VARNAME CLOSEPAREN QUESTMARK . SLASH

    SLASH           shift and go to state 47


state 42

    (13) cell -> OPENPAREN VARNAME CLOSEPAREN SLASH .

    VARNAME         reduce using rule 13 (cell -> OPENPAREN VARNAME CLOSEPAREN SLASH .)
    OPENPAREN       reduce using rule 13 (cell -> OPENPAREN VARNAME CLOSEPAREN SLASH .)
    NEWLINE         reduce using rule 13 (cell -> OPENPAREN VARNAME CLOSEPAREN SLASH .)


state 43

    (23) definition -> assignment LITERAL NEWLINE .

    VARNAME         reduce using rule 23 (definition -> assignment LITERAL NEWLINE .)
    DEDENT          reduce using rule 23 (definition -> assignment LITERAL NEWLINE .)


state 44

    (22) definition -> assignment CHARCLASS NEWLINE .

    VARNAME         reduce using rule 22 (definition -> assignment CHARCLASS NEWLINE .)
    DEDENT          reduce using rule 22 (definition -> assignment CHARCLASS NEWLINE .)


state 45

    (9) expression -> SLASH cell moreCells NEWLINE indent definitions . DEDENT

    DEDENT          shift and go to state 48


state 46

    (15) cell -> OPENPAREN VARNAME QUESTMARK CLOSEPAREN SLASH .

    VARNAME         reduce using rule 15 (cell -> OPENPAREN VARNAME QUESTMARK CLOSEPAREN SLASH .)
    OPENPAREN       reduce using rule 15 (cell -> OPENPAREN VARNAME QUESTMARK CLOSEPAREN SLASH .)
    NEWLINE         reduce using rule 15 (cell -> OPENPAREN VARNAME QUESTMARK CLOSEPAREN SLASH .)


state 47

    (14) cell -> OPENPAREN VARNAME CLOSEPAREN QUESTMARK SLASH .

    VARNAME         reduce using rule 14 (cell -> OPENPAREN VARNAME CLOSEPAREN QUESTMARK SLASH .)
    OPENPAREN       reduce using rule 14 (cell -> OPENPAREN VARNAME CLOSEPAREN QUESTMARK SLASH .)
    NEWLINE         reduce using rule 14 (cell -> OPENPAREN VARNAME CLOSEPAREN QUESTMARK SLASH .)


state 48

    (9) expression -> SLASH cell moreCells NEWLINE indent definitions DEDENT .

    $end            reduce using rule 9 (expression -> SLASH cell moreCells NEWLINE indent definitions DEDENT .)
    VARNAME         reduce using rule 9 (expression -> SLASH cell moreCells NEWLINE indent definitions DEDENT .)
    DEDENT          reduce using rule 9 (expression -> SLASH cell moreCells NEWLINE indent definitions DEDENT .)

