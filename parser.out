Created by PLY version 3.4 (http://www.dabeaz.com/ply)

Grammar

Rule 0     S' -> oprex
Rule 1     oprex -> <empty>
Rule 2     oprex -> WHITESPACE
Rule 3     oprex -> NEWLINE
Rule 4     oprex -> NEWLINE expression
Rule 5     oprex -> NEWLINE INDENT expression DEDENT
Rule 6     expression -> lookup NEWLINE
Rule 7     expression -> lookup NEWLINE beginscope definitions DEDENT
Rule 8     expression -> quantifier WHITESPACE STRING NEWLINE
Rule 9     expression -> quantifier WHITESPACE expression
Rule 10    expression -> quantifier COLON charclass
Rule 11    quantifier -> NUMBER WHITESPACE VARNAME
Rule 12    quantifier -> NUMBER DOTDOT WHITESPACE VARNAME
Rule 13    quantifier -> NUMBER DOTDOT NUMBER WHITESPACE VARNAME
Rule 14    quantifier -> NUMBER DOTDOT WHITESPACE BACKTRACK MINUS WHITESPACE VARNAME
Rule 15    quantifier -> NUMBER DOTDOT NUMBER WHITESPACE BACKTRACK MINUS WHITESPACE VARNAME
Rule 16    quantifier -> NUMBER WHITESPACE BACKTRACK PLUS DOTDOT WHITESPACE VARNAME
Rule 17    quantifier -> NUMBER WHITESPACE BACKTRACK PLUS DOTDOT NUMBER WHITESPACE VARNAME
Rule 18    lookup -> VARNAME
Rule 19    lookup -> SLASH chain
Rule 20    chain -> cell SLASH
Rule 21    chain -> chain cell SLASH
Rule 22    cell -> VARNAME
Rule 23    cell -> VARNAME QUESTMARK
Rule 24    cell -> LPAREN VARNAME RPAREN
Rule 25    cell -> LPAREN VARNAME RPAREN QUESTMARK
Rule 26    cell -> LPAREN VARNAME QUESTMARK RPAREN
Rule 27    beginscope -> INDENT
Rule 28    definitions -> definition
Rule 29    definitions -> definition definitions
Rule 30    definition -> assignment
Rule 31    definition -> GLOBALMARK assignment
Rule 32    assignment -> VARNAME EQUALSIGN assignment
Rule 33    assignment -> VARNAME EQUALSIGN expression
Rule 34    assignment -> VARNAME EQUALSIGN STRING NEWLINE
Rule 35    assignment -> VARNAME COLON charclass
Rule 36    charclass -> CHARCLASS NEWLINE
Rule 37    charclass -> CHARCLASS NEWLINE beginscope definitions DEDENT

Terminals, with rules where they appear

BACKTRACK            : 14 15 16 17
CHARCLASS            : 36 37
COLON                : 10 35
DEDENT               : 5 7 37
DOTDOT               : 12 13 14 15 16 17
EQUALSIGN            : 32 33 34
GLOBALMARK           : 31
INDENT               : 5 27
LPAREN               : 24 25 26
MINUS                : 14 15
NEWLINE              : 3 4 5 6 7 8 34 36 37
NUMBER               : 11 12 13 13 14 15 15 16 17 17
PLUS                 : 16 17
QUESTMARK            : 23 25 26
RPAREN               : 24 25 26
SLASH                : 19 20 21
STRING               : 8 34
VARNAME              : 11 12 13 14 15 16 17 18 22 23 24 25 26 32 33 34 35
WHITESPACE           : 2 8 9 11 12 13 14 14 15 15 16 16 17 17
error                : 

Nonterminals, with rules where they appear

assignment           : 30 31 32
beginscope           : 7 37
cell                 : 20 21
chain                : 19 21
charclass            : 10 35
definition           : 28 29
definitions          : 7 29 37
expression           : 4 5 9 33
lookup               : 6 7
oprex                : 0
quantifier           : 8 9 10

Parsing method: LALR

state 0

    (0) S' -> . oprex
    (1) oprex -> .
    (2) oprex -> . WHITESPACE
    (3) oprex -> . NEWLINE
    (4) oprex -> . NEWLINE expression
    (5) oprex -> . NEWLINE INDENT expression DEDENT

    $end            reduce using rule 1 (oprex -> .)
    WHITESPACE      shift and go to state 2
    NEWLINE         shift and go to state 3

    oprex                          shift and go to state 1

state 1

    (0) S' -> oprex .



state 2

    (2) oprex -> WHITESPACE .

    $end            reduce using rule 2 (oprex -> WHITESPACE .)


state 3

    (3) oprex -> NEWLINE .
    (4) oprex -> NEWLINE . expression
    (5) oprex -> NEWLINE . INDENT expression DEDENT
    (6) expression -> . lookup NEWLINE
    (7) expression -> . lookup NEWLINE beginscope definitions DEDENT
    (8) expression -> . quantifier WHITESPACE STRING NEWLINE
    (9) expression -> . quantifier WHITESPACE expression
    (10) expression -> . quantifier COLON charclass
    (18) lookup -> . VARNAME
    (19) lookup -> . SLASH chain
    (11) quantifier -> . NUMBER WHITESPACE VARNAME
    (12) quantifier -> . NUMBER DOTDOT WHITESPACE VARNAME
    (13) quantifier -> . NUMBER DOTDOT NUMBER WHITESPACE VARNAME
    (14) quantifier -> . NUMBER DOTDOT WHITESPACE BACKTRACK MINUS WHITESPACE VARNAME
    (15) quantifier -> . NUMBER DOTDOT NUMBER WHITESPACE BACKTRACK MINUS WHITESPACE VARNAME
    (16) quantifier -> . NUMBER WHITESPACE BACKTRACK PLUS DOTDOT WHITESPACE VARNAME
    (17) quantifier -> . NUMBER WHITESPACE BACKTRACK PLUS DOTDOT NUMBER WHITESPACE VARNAME

    $end            reduce using rule 3 (oprex -> NEWLINE .)
    INDENT          shift and go to state 4
    VARNAME         shift and go to state 5
    SLASH           shift and go to state 8
    NUMBER          shift and go to state 6

    lookup                         shift and go to state 7
    quantifier                     shift and go to state 9
    expression                     shift and go to state 10

state 4

    (5) oprex -> NEWLINE INDENT . expression DEDENT
    (6) expression -> . lookup NEWLINE
    (7) expression -> . lookup NEWLINE beginscope definitions DEDENT
    (8) expression -> . quantifier WHITESPACE STRING NEWLINE
    (9) expression -> . quantifier WHITESPACE expression
    (10) expression -> . quantifier COLON charclass
    (18) lookup -> . VARNAME
    (19) lookup -> . SLASH chain
    (11) quantifier -> . NUMBER WHITESPACE VARNAME
    (12) quantifier -> . NUMBER DOTDOT WHITESPACE VARNAME
    (13) quantifier -> . NUMBER DOTDOT NUMBER WHITESPACE VARNAME
    (14) quantifier -> . NUMBER DOTDOT WHITESPACE BACKTRACK MINUS WHITESPACE VARNAME
    (15) quantifier -> . NUMBER DOTDOT NUMBER WHITESPACE BACKTRACK MINUS WHITESPACE VARNAME
    (16) quantifier -> . NUMBER WHITESPACE BACKTRACK PLUS DOTDOT WHITESPACE VARNAME
    (17) quantifier -> . NUMBER WHITESPACE BACKTRACK PLUS DOTDOT NUMBER WHITESPACE VARNAME

    VARNAME         shift and go to state 5
    SLASH           shift and go to state 8
    NUMBER          shift and go to state 6

    lookup                         shift and go to state 7
    quantifier                     shift and go to state 9
    expression                     shift and go to state 11

state 5

    (18) lookup -> VARNAME .

    NEWLINE         reduce using rule 18 (lookup -> VARNAME .)


state 6

    (11) quantifier -> NUMBER . WHITESPACE VARNAME
    (12) quantifier -> NUMBER . DOTDOT WHITESPACE VARNAME
    (13) quantifier -> NUMBER . DOTDOT NUMBER WHITESPACE VARNAME
    (14) quantifier -> NUMBER . DOTDOT WHITESPACE BACKTRACK MINUS WHITESPACE VARNAME
    (15) quantifier -> NUMBER . DOTDOT NUMBER WHITESPACE BACKTRACK MINUS WHITESPACE VARNAME
    (16) quantifier -> NUMBER . WHITESPACE BACKTRACK PLUS DOTDOT WHITESPACE VARNAME
    (17) quantifier -> NUMBER . WHITESPACE BACKTRACK PLUS DOTDOT NUMBER WHITESPACE VARNAME

    WHITESPACE      shift and go to state 12
    DOTDOT          shift and go to state 13


state 7

    (6) expression -> lookup . NEWLINE
    (7) expression -> lookup . NEWLINE beginscope definitions DEDENT

    NEWLINE         shift and go to state 14


state 8

    (19) lookup -> SLASH . chain
    (20) chain -> . cell SLASH
    (21) chain -> . chain cell SLASH
    (22) cell -> . VARNAME
    (23) cell -> . VARNAME QUESTMARK
    (24) cell -> . LPAREN VARNAME RPAREN
    (25) cell -> . LPAREN VARNAME RPAREN QUESTMARK
    (26) cell -> . LPAREN VARNAME QUESTMARK RPAREN

    VARNAME         shift and go to state 16
    LPAREN          shift and go to state 18

    cell                           shift and go to state 17
    chain                          shift and go to state 15

state 9

    (8) expression -> quantifier . WHITESPACE STRING NEWLINE
    (9) expression -> quantifier . WHITESPACE expression
    (10) expression -> quantifier . COLON charclass

    WHITESPACE      shift and go to state 19
    COLON           shift and go to state 20


state 10

    (4) oprex -> NEWLINE expression .

    $end            reduce using rule 4 (oprex -> NEWLINE expression .)


state 11

    (5) oprex -> NEWLINE INDENT expression . DEDENT

    DEDENT          shift and go to state 21


state 12

    (11) quantifier -> NUMBER WHITESPACE . VARNAME
    (16) quantifier -> NUMBER WHITESPACE . BACKTRACK PLUS DOTDOT WHITESPACE VARNAME
    (17) quantifier -> NUMBER WHITESPACE . BACKTRACK PLUS DOTDOT NUMBER WHITESPACE VARNAME

    VARNAME         shift and go to state 23
    BACKTRACK       shift and go to state 22


state 13

    (12) quantifier -> NUMBER DOTDOT . WHITESPACE VARNAME
    (13) quantifier -> NUMBER DOTDOT . NUMBER WHITESPACE VARNAME
    (14) quantifier -> NUMBER DOTDOT . WHITESPACE BACKTRACK MINUS WHITESPACE VARNAME
    (15) quantifier -> NUMBER DOTDOT . NUMBER WHITESPACE BACKTRACK MINUS WHITESPACE VARNAME

    WHITESPACE      shift and go to state 24
    NUMBER          shift and go to state 25


state 14

    (6) expression -> lookup NEWLINE .
    (7) expression -> lookup NEWLINE . beginscope definitions DEDENT
    (27) beginscope -> . INDENT

    $end            reduce using rule 6 (expression -> lookup NEWLINE .)
    DEDENT          reduce using rule 6 (expression -> lookup NEWLINE .)
    GLOBALMARK      reduce using rule 6 (expression -> lookup NEWLINE .)
    VARNAME         reduce using rule 6 (expression -> lookup NEWLINE .)
    INDENT          shift and go to state 27

    beginscope                     shift and go to state 26

state 15

    (19) lookup -> SLASH chain .
    (21) chain -> chain . cell SLASH
    (22) cell -> . VARNAME
    (23) cell -> . VARNAME QUESTMARK
    (24) cell -> . LPAREN VARNAME RPAREN
    (25) cell -> . LPAREN VARNAME RPAREN QUESTMARK
    (26) cell -> . LPAREN VARNAME QUESTMARK RPAREN

    NEWLINE         reduce using rule 19 (lookup -> SLASH chain .)
    VARNAME         shift and go to state 16
    LPAREN          shift and go to state 18

    cell                           shift and go to state 28

state 16

    (22) cell -> VARNAME .
    (23) cell -> VARNAME . QUESTMARK

    SLASH           reduce using rule 22 (cell -> VARNAME .)
    QUESTMARK       shift and go to state 29


state 17

    (20) chain -> cell . SLASH

    SLASH           shift and go to state 30


state 18

    (24) cell -> LPAREN . VARNAME RPAREN
    (25) cell -> LPAREN . VARNAME RPAREN QUESTMARK
    (26) cell -> LPAREN . VARNAME QUESTMARK RPAREN

    VARNAME         shift and go to state 31


state 19

    (8) expression -> quantifier WHITESPACE . STRING NEWLINE
    (9) expression -> quantifier WHITESPACE . expression
    (6) expression -> . lookup NEWLINE
    (7) expression -> . lookup NEWLINE beginscope definitions DEDENT
    (8) expression -> . quantifier WHITESPACE STRING NEWLINE
    (9) expression -> . quantifier WHITESPACE expression
    (10) expression -> . quantifier COLON charclass
    (18) lookup -> . VARNAME
    (19) lookup -> . SLASH chain
    (11) quantifier -> . NUMBER WHITESPACE VARNAME
    (12) quantifier -> . NUMBER DOTDOT WHITESPACE VARNAME
    (13) quantifier -> . NUMBER DOTDOT NUMBER WHITESPACE VARNAME
    (14) quantifier -> . NUMBER DOTDOT WHITESPACE BACKTRACK MINUS WHITESPACE VARNAME
    (15) quantifier -> . NUMBER DOTDOT NUMBER WHITESPACE BACKTRACK MINUS WHITESPACE VARNAME
    (16) quantifier -> . NUMBER WHITESPACE BACKTRACK PLUS DOTDOT WHITESPACE VARNAME
    (17) quantifier -> . NUMBER WHITESPACE BACKTRACK PLUS DOTDOT NUMBER WHITESPACE VARNAME

    STRING          shift and go to state 33
    VARNAME         shift and go to state 5
    SLASH           shift and go to state 8
    NUMBER          shift and go to state 6

    lookup                         shift and go to state 7
    quantifier                     shift and go to state 9
    expression                     shift and go to state 32

state 20

    (10) expression -> quantifier COLON . charclass
    (36) charclass -> . CHARCLASS NEWLINE
    (37) charclass -> . CHARCLASS NEWLINE beginscope definitions DEDENT

    CHARCLASS       shift and go to state 35

    charclass                      shift and go to state 34

state 21

    (5) oprex -> NEWLINE INDENT expression DEDENT .

    $end            reduce using rule 5 (oprex -> NEWLINE INDENT expression DEDENT .)


state 22

    (16) quantifier -> NUMBER WHITESPACE BACKTRACK . PLUS DOTDOT WHITESPACE VARNAME
    (17) quantifier -> NUMBER WHITESPACE BACKTRACK . PLUS DOTDOT NUMBER WHITESPACE VARNAME

    PLUS            shift and go to state 36


state 23

    (11) quantifier -> NUMBER WHITESPACE VARNAME .

    WHITESPACE      reduce using rule 11 (quantifier -> NUMBER WHITESPACE VARNAME .)
    COLON           reduce using rule 11 (quantifier -> NUMBER WHITESPACE VARNAME .)


state 24

    (12) quantifier -> NUMBER DOTDOT WHITESPACE . VARNAME
    (14) quantifier -> NUMBER DOTDOT WHITESPACE . BACKTRACK MINUS WHITESPACE VARNAME

    VARNAME         shift and go to state 38
    BACKTRACK       shift and go to state 37


state 25

    (13) quantifier -> NUMBER DOTDOT NUMBER . WHITESPACE VARNAME
    (15) quantifier -> NUMBER DOTDOT NUMBER . WHITESPACE BACKTRACK MINUS WHITESPACE VARNAME

    WHITESPACE      shift and go to state 39


state 26

    (7) expression -> lookup NEWLINE beginscope . definitions DEDENT
    (28) definitions -> . definition
    (29) definitions -> . definition definitions
    (30) definition -> . assignment
    (31) definition -> . GLOBALMARK assignment
    (32) assignment -> . VARNAME EQUALSIGN assignment
    (33) assignment -> . VARNAME EQUALSIGN expression
    (34) assignment -> . VARNAME EQUALSIGN STRING NEWLINE
    (35) assignment -> . VARNAME COLON charclass

    GLOBALMARK      shift and go to state 42
    VARNAME         shift and go to state 43

    definition                     shift and go to state 40
    assignment                     shift and go to state 41
    definitions                    shift and go to state 44

state 27

    (27) beginscope -> INDENT .

    GLOBALMARK      reduce using rule 27 (beginscope -> INDENT .)
    VARNAME         reduce using rule 27 (beginscope -> INDENT .)


state 28

    (21) chain -> chain cell . SLASH

    SLASH           shift and go to state 45


state 29

    (23) cell -> VARNAME QUESTMARK .

    SLASH           reduce using rule 23 (cell -> VARNAME QUESTMARK .)


state 30

    (20) chain -> cell SLASH .

    VARNAME         reduce using rule 20 (chain -> cell SLASH .)
    LPAREN          reduce using rule 20 (chain -> cell SLASH .)
    NEWLINE         reduce using rule 20 (chain -> cell SLASH .)


state 31

    (24) cell -> LPAREN VARNAME . RPAREN
    (25) cell -> LPAREN VARNAME . RPAREN QUESTMARK
    (26) cell -> LPAREN VARNAME . QUESTMARK RPAREN

    RPAREN          shift and go to state 47
    QUESTMARK       shift and go to state 46


state 32

    (9) expression -> quantifier WHITESPACE expression .

    $end            reduce using rule 9 (expression -> quantifier WHITESPACE expression .)
    DEDENT          reduce using rule 9 (expression -> quantifier WHITESPACE expression .)
    GLOBALMARK      reduce using rule 9 (expression -> quantifier WHITESPACE expression .)
    VARNAME         reduce using rule 9 (expression -> quantifier WHITESPACE expression .)


state 33

    (8) expression -> quantifier WHITESPACE STRING . NEWLINE

    NEWLINE         shift and go to state 48


state 34

    (10) expression -> quantifier COLON charclass .

    $end            reduce using rule 10 (expression -> quantifier COLON charclass .)
    DEDENT          reduce using rule 10 (expression -> quantifier COLON charclass .)
    GLOBALMARK      reduce using rule 10 (expression -> quantifier COLON charclass .)
    VARNAME         reduce using rule 10 (expression -> quantifier COLON charclass .)


state 35

    (36) charclass -> CHARCLASS . NEWLINE
    (37) charclass -> CHARCLASS . NEWLINE beginscope definitions DEDENT

    NEWLINE         shift and go to state 49


state 36

    (16) quantifier -> NUMBER WHITESPACE BACKTRACK PLUS . DOTDOT WHITESPACE VARNAME
    (17) quantifier -> NUMBER WHITESPACE BACKTRACK PLUS . DOTDOT NUMBER WHITESPACE VARNAME

    DOTDOT          shift and go to state 50


state 37

    (14) quantifier -> NUMBER DOTDOT WHITESPACE BACKTRACK . MINUS WHITESPACE VARNAME

    MINUS           shift and go to state 51


state 38

    (12) quantifier -> NUMBER DOTDOT WHITESPACE VARNAME .

    WHITESPACE      reduce using rule 12 (quantifier -> NUMBER DOTDOT WHITESPACE VARNAME .)
    COLON           reduce using rule 12 (quantifier -> NUMBER DOTDOT WHITESPACE VARNAME .)


state 39

    (13) quantifier -> NUMBER DOTDOT NUMBER WHITESPACE . VARNAME
    (15) quantifier -> NUMBER DOTDOT NUMBER WHITESPACE . BACKTRACK MINUS WHITESPACE VARNAME

    VARNAME         shift and go to state 53
    BACKTRACK       shift and go to state 52


state 40

    (28) definitions -> definition .
    (29) definitions -> definition . definitions
    (28) definitions -> . definition
    (29) definitions -> . definition definitions
    (30) definition -> . assignment
    (31) definition -> . GLOBALMARK assignment
    (32) assignment -> . VARNAME EQUALSIGN assignment
    (33) assignment -> . VARNAME EQUALSIGN expression
    (34) assignment -> . VARNAME EQUALSIGN STRING NEWLINE
    (35) assignment -> . VARNAME COLON charclass

    DEDENT          reduce using rule 28 (definitions -> definition .)
    GLOBALMARK      shift and go to state 42
    VARNAME         shift and go to state 43

    definition                     shift and go to state 40
    assignment                     shift and go to state 41
    definitions                    shift and go to state 54

state 41

    (30) definition -> assignment .

    GLOBALMARK      reduce using rule 30 (definition -> assignment .)
    VARNAME         reduce using rule 30 (definition -> assignment .)
    DEDENT          reduce using rule 30 (definition -> assignment .)


state 42

    (31) definition -> GLOBALMARK . assignment
    (32) assignment -> . VARNAME EQUALSIGN assignment
    (33) assignment -> . VARNAME EQUALSIGN expression
    (34) assignment -> . VARNAME EQUALSIGN STRING NEWLINE
    (35) assignment -> . VARNAME COLON charclass

    VARNAME         shift and go to state 43

    assignment                     shift and go to state 55

state 43

    (32) assignment -> VARNAME . EQUALSIGN assignment
    (33) assignment -> VARNAME . EQUALSIGN expression
    (34) assignment -> VARNAME . EQUALSIGN STRING NEWLINE
    (35) assignment -> VARNAME . COLON charclass

    EQUALSIGN       shift and go to state 57
    COLON           shift and go to state 56


state 44

    (7) expression -> lookup NEWLINE beginscope definitions . DEDENT

    DEDENT          shift and go to state 58


state 45

    (21) chain -> chain cell SLASH .

    VARNAME         reduce using rule 21 (chain -> chain cell SLASH .)
    LPAREN          reduce using rule 21 (chain -> chain cell SLASH .)
    NEWLINE         reduce using rule 21 (chain -> chain cell SLASH .)


state 46

    (26) cell -> LPAREN VARNAME QUESTMARK . RPAREN

    RPAREN          shift and go to state 59


state 47

    (24) cell -> LPAREN VARNAME RPAREN .
    (25) cell -> LPAREN VARNAME RPAREN . QUESTMARK

    SLASH           reduce using rule 24 (cell -> LPAREN VARNAME RPAREN .)
    QUESTMARK       shift and go to state 60


state 48

    (8) expression -> quantifier WHITESPACE STRING NEWLINE .

    $end            reduce using rule 8 (expression -> quantifier WHITESPACE STRING NEWLINE .)
    DEDENT          reduce using rule 8 (expression -> quantifier WHITESPACE STRING NEWLINE .)
    GLOBALMARK      reduce using rule 8 (expression -> quantifier WHITESPACE STRING NEWLINE .)
    VARNAME         reduce using rule 8 (expression -> quantifier WHITESPACE STRING NEWLINE .)


state 49

    (36) charclass -> CHARCLASS NEWLINE .
    (37) charclass -> CHARCLASS NEWLINE . beginscope definitions DEDENT
    (27) beginscope -> . INDENT

    GLOBALMARK      reduce using rule 36 (charclass -> CHARCLASS NEWLINE .)
    VARNAME         reduce using rule 36 (charclass -> CHARCLASS NEWLINE .)
    DEDENT          reduce using rule 36 (charclass -> CHARCLASS NEWLINE .)
    $end            reduce using rule 36 (charclass -> CHARCLASS NEWLINE .)
    INDENT          shift and go to state 27

    beginscope                     shift and go to state 61

state 50

    (16) quantifier -> NUMBER WHITESPACE BACKTRACK PLUS DOTDOT . WHITESPACE VARNAME
    (17) quantifier -> NUMBER WHITESPACE BACKTRACK PLUS DOTDOT . NUMBER WHITESPACE VARNAME

    WHITESPACE      shift and go to state 62
    NUMBER          shift and go to state 63


state 51

    (14) quantifier -> NUMBER DOTDOT WHITESPACE BACKTRACK MINUS . WHITESPACE VARNAME

    WHITESPACE      shift and go to state 64


state 52

    (15) quantifier -> NUMBER DOTDOT NUMBER WHITESPACE BACKTRACK . MINUS WHITESPACE VARNAME

    MINUS           shift and go to state 65


state 53

    (13) quantifier -> NUMBER DOTDOT NUMBER WHITESPACE VARNAME .

    WHITESPACE      reduce using rule 13 (quantifier -> NUMBER DOTDOT NUMBER WHITESPACE VARNAME .)
    COLON           reduce using rule 13 (quantifier -> NUMBER DOTDOT NUMBER WHITESPACE VARNAME .)


state 54

    (29) definitions -> definition definitions .

    DEDENT          reduce using rule 29 (definitions -> definition definitions .)


state 55

    (31) definition -> GLOBALMARK assignment .

    GLOBALMARK      reduce using rule 31 (definition -> GLOBALMARK assignment .)
    VARNAME         reduce using rule 31 (definition -> GLOBALMARK assignment .)
    DEDENT          reduce using rule 31 (definition -> GLOBALMARK assignment .)


state 56

    (35) assignment -> VARNAME COLON . charclass
    (36) charclass -> . CHARCLASS NEWLINE
    (37) charclass -> . CHARCLASS NEWLINE beginscope definitions DEDENT

    CHARCLASS       shift and go to state 35

    charclass                      shift and go to state 66

state 57

    (32) assignment -> VARNAME EQUALSIGN . assignment
    (33) assignment -> VARNAME EQUALSIGN . expression
    (34) assignment -> VARNAME EQUALSIGN . STRING NEWLINE
    (32) assignment -> . VARNAME EQUALSIGN assignment
    (33) assignment -> . VARNAME EQUALSIGN expression
    (34) assignment -> . VARNAME EQUALSIGN STRING NEWLINE
    (35) assignment -> . VARNAME COLON charclass
    (6) expression -> . lookup NEWLINE
    (7) expression -> . lookup NEWLINE beginscope definitions DEDENT
    (8) expression -> . quantifier WHITESPACE STRING NEWLINE
    (9) expression -> . quantifier WHITESPACE expression
    (10) expression -> . quantifier COLON charclass
    (18) lookup -> . VARNAME
    (19) lookup -> . SLASH chain
    (11) quantifier -> . NUMBER WHITESPACE VARNAME
    (12) quantifier -> . NUMBER DOTDOT WHITESPACE VARNAME
    (13) quantifier -> . NUMBER DOTDOT NUMBER WHITESPACE VARNAME
    (14) quantifier -> . NUMBER DOTDOT WHITESPACE BACKTRACK MINUS WHITESPACE VARNAME
    (15) quantifier -> . NUMBER DOTDOT NUMBER WHITESPACE BACKTRACK MINUS WHITESPACE VARNAME
    (16) quantifier -> . NUMBER WHITESPACE BACKTRACK PLUS DOTDOT WHITESPACE VARNAME
    (17) quantifier -> . NUMBER WHITESPACE BACKTRACK PLUS DOTDOT NUMBER WHITESPACE VARNAME

    STRING          shift and go to state 67
    VARNAME         shift and go to state 68
    SLASH           shift and go to state 8
    NUMBER          shift and go to state 6

    assignment                     shift and go to state 69
    lookup                         shift and go to state 7
    quantifier                     shift and go to state 9
    expression                     shift and go to state 70

state 58

    (7) expression -> lookup NEWLINE beginscope definitions DEDENT .

    $end            reduce using rule 7 (expression -> lookup NEWLINE beginscope definitions DEDENT .)
    DEDENT          reduce using rule 7 (expression -> lookup NEWLINE beginscope definitions DEDENT .)
    GLOBALMARK      reduce using rule 7 (expression -> lookup NEWLINE beginscope definitions DEDENT .)
    VARNAME         reduce using rule 7 (expression -> lookup NEWLINE beginscope definitions DEDENT .)


state 59

    (26) cell -> LPAREN VARNAME QUESTMARK RPAREN .

    SLASH           reduce using rule 26 (cell -> LPAREN VARNAME QUESTMARK RPAREN .)


state 60

    (25) cell -> LPAREN VARNAME RPAREN QUESTMARK .

    SLASH           reduce using rule 25 (cell -> LPAREN VARNAME RPAREN QUESTMARK .)


state 61

    (37) charclass -> CHARCLASS NEWLINE beginscope . definitions DEDENT
    (28) definitions -> . definition
    (29) definitions -> . definition definitions
    (30) definition -> . assignment
    (31) definition -> . GLOBALMARK assignment
    (32) assignment -> . VARNAME EQUALSIGN assignment
    (33) assignment -> . VARNAME EQUALSIGN expression
    (34) assignment -> . VARNAME EQUALSIGN STRING NEWLINE
    (35) assignment -> . VARNAME COLON charclass

    GLOBALMARK      shift and go to state 42
    VARNAME         shift and go to state 43

    definition                     shift and go to state 40
    assignment                     shift and go to state 41
    definitions                    shift and go to state 71

state 62

    (16) quantifier -> NUMBER WHITESPACE BACKTRACK PLUS DOTDOT WHITESPACE . VARNAME

    VARNAME         shift and go to state 72


state 63

    (17) quantifier -> NUMBER WHITESPACE BACKTRACK PLUS DOTDOT NUMBER . WHITESPACE VARNAME

    WHITESPACE      shift and go to state 73


state 64

    (14) quantifier -> NUMBER DOTDOT WHITESPACE BACKTRACK MINUS WHITESPACE . VARNAME

    VARNAME         shift and go to state 74


state 65

    (15) quantifier -> NUMBER DOTDOT NUMBER WHITESPACE BACKTRACK MINUS . WHITESPACE VARNAME

    WHITESPACE      shift and go to state 75


state 66

    (35) assignment -> VARNAME COLON charclass .

    GLOBALMARK      reduce using rule 35 (assignment -> VARNAME COLON charclass .)
    VARNAME         reduce using rule 35 (assignment -> VARNAME COLON charclass .)
    DEDENT          reduce using rule 35 (assignment -> VARNAME COLON charclass .)


state 67

    (34) assignment -> VARNAME EQUALSIGN STRING . NEWLINE

    NEWLINE         shift and go to state 76


state 68

    (32) assignment -> VARNAME . EQUALSIGN assignment
    (33) assignment -> VARNAME . EQUALSIGN expression
    (34) assignment -> VARNAME . EQUALSIGN STRING NEWLINE
    (35) assignment -> VARNAME . COLON charclass
    (18) lookup -> VARNAME .

    EQUALSIGN       shift and go to state 57
    COLON           shift and go to state 56
    NEWLINE         reduce using rule 18 (lookup -> VARNAME .)


state 69

    (32) assignment -> VARNAME EQUALSIGN assignment .

    GLOBALMARK      reduce using rule 32 (assignment -> VARNAME EQUALSIGN assignment .)
    VARNAME         reduce using rule 32 (assignment -> VARNAME EQUALSIGN assignment .)
    DEDENT          reduce using rule 32 (assignment -> VARNAME EQUALSIGN assignment .)


state 70

    (33) assignment -> VARNAME EQUALSIGN expression .

    GLOBALMARK      reduce using rule 33 (assignment -> VARNAME EQUALSIGN expression .)
    VARNAME         reduce using rule 33 (assignment -> VARNAME EQUALSIGN expression .)
    DEDENT          reduce using rule 33 (assignment -> VARNAME EQUALSIGN expression .)


state 71

    (37) charclass -> CHARCLASS NEWLINE beginscope definitions . DEDENT

    DEDENT          shift and go to state 77


state 72

    (16) quantifier -> NUMBER WHITESPACE BACKTRACK PLUS DOTDOT WHITESPACE VARNAME .

    WHITESPACE      reduce using rule 16 (quantifier -> NUMBER WHITESPACE BACKTRACK PLUS DOTDOT WHITESPACE VARNAME .)
    COLON           reduce using rule 16 (quantifier -> NUMBER WHITESPACE BACKTRACK PLUS DOTDOT WHITESPACE VARNAME .)


state 73

    (17) quantifier -> NUMBER WHITESPACE BACKTRACK PLUS DOTDOT NUMBER WHITESPACE . VARNAME

    VARNAME         shift and go to state 78


state 74

    (14) quantifier -> NUMBER DOTDOT WHITESPACE BACKTRACK MINUS WHITESPACE VARNAME .

    WHITESPACE      reduce using rule 14 (quantifier -> NUMBER DOTDOT WHITESPACE BACKTRACK MINUS WHITESPACE VARNAME .)
    COLON           reduce using rule 14 (quantifier -> NUMBER DOTDOT WHITESPACE BACKTRACK MINUS WHITESPACE VARNAME .)


state 75

    (15) quantifier -> NUMBER DOTDOT NUMBER WHITESPACE BACKTRACK MINUS WHITESPACE . VARNAME

    VARNAME         shift and go to state 79


state 76

    (34) assignment -> VARNAME EQUALSIGN STRING NEWLINE .

    GLOBALMARK      reduce using rule 34 (assignment -> VARNAME EQUALSIGN STRING NEWLINE .)
    VARNAME         reduce using rule 34 (assignment -> VARNAME EQUALSIGN STRING NEWLINE .)
    DEDENT          reduce using rule 34 (assignment -> VARNAME EQUALSIGN STRING NEWLINE .)


state 77

    (37) charclass -> CHARCLASS NEWLINE beginscope definitions DEDENT .

    GLOBALMARK      reduce using rule 37 (charclass -> CHARCLASS NEWLINE beginscope definitions DEDENT .)
    VARNAME         reduce using rule 37 (charclass -> CHARCLASS NEWLINE beginscope definitions DEDENT .)
    DEDENT          reduce using rule 37 (charclass -> CHARCLASS NEWLINE beginscope definitions DEDENT .)
    $end            reduce using rule 37 (charclass -> CHARCLASS NEWLINE beginscope definitions DEDENT .)


state 78

    (17) quantifier -> NUMBER WHITESPACE BACKTRACK PLUS DOTDOT NUMBER WHITESPACE VARNAME .

    WHITESPACE      reduce using rule 17 (quantifier -> NUMBER WHITESPACE BACKTRACK PLUS DOTDOT NUMBER WHITESPACE VARNAME .)
    COLON           reduce using rule 17 (quantifier -> NUMBER WHITESPACE BACKTRACK PLUS DOTDOT NUMBER WHITESPACE VARNAME .)


state 79

    (15) quantifier -> NUMBER DOTDOT NUMBER WHITESPACE BACKTRACK MINUS WHITESPACE VARNAME .

    WHITESPACE      reduce using rule 15 (quantifier -> NUMBER DOTDOT NUMBER WHITESPACE BACKTRACK MINUS WHITESPACE VARNAME .)
    COLON           reduce using rule 15 (quantifier -> NUMBER DOTDOT NUMBER WHITESPACE BACKTRACK MINUS WHITESPACE VARNAME .)

