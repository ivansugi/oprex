Created by PLY version 3.4 (http://www.dabeaz.com/ply)

Grammar

Rule 0     S' -> oprex
Rule 1     oprex -> <empty>
Rule 2     oprex -> WHITESPACE
Rule 3     oprex -> NEWLINE
Rule 4     oprex -> NEWLINE expression
Rule 5     oprex -> NEWLINE INDENT expression DEDENT
Rule 6     expression -> VARNAME NEWLINE
Rule 7     expression -> VARNAME NEWLINE INDENT definitions DEDENT
Rule 8     expression -> SLASH cell moreCells NEWLINE
Rule 9     expression -> SLASH cell moreCells NEWLINE INDENT definitions DEDENT
Rule 10    cell -> VARNAME SLASH
Rule 11    cell -> VARNAME QUESTMARK SLASH
Rule 12    moreCells -> <empty>
Rule 13    moreCells -> cell moreCells
Rule 14    definitions -> <empty>
Rule 15    definitions -> definition definitions
Rule 16    definition -> assignment definition
Rule 17    definition -> assignment expression
Rule 18    definition -> assignment CHARCLASS NEWLINE
Rule 19    definition -> assignment LITERAL NEWLINE
Rule 20    assignment -> VARNAME EQUALSIGN
Rule 21    assignment -> VARNAME COLON

Terminals, with rules where they appear

CHARCLASS            : 18
COLON                : 21
DEDENT               : 5 7 9
EQUALSIGN            : 20
INDENT               : 5 7 9
LITERAL              : 19
NEWLINE              : 3 4 5 6 7 8 9 18 19
QUESTMARK            : 11
SLASH                : 8 9 10 11
VARNAME              : 6 7 10 11 20 21
WHITESPACE           : 2
error                : 

Nonterminals, with rules where they appear

assignment           : 16 17 18 19
cell                 : 8 9 13
definition           : 15 16
definitions          : 7 9 15
expression           : 4 5 17
moreCells            : 8 9 13
oprex                : 0

Parsing method: LALR

state 0

    (0) S' -> . oprex
    (1) oprex -> .
    (2) oprex -> . WHITESPACE
    (3) oprex -> . NEWLINE
    (4) oprex -> . NEWLINE expression
    (5) oprex -> . NEWLINE INDENT expression DEDENT

    $end            reduce using rule 1 (oprex -> .)
    WHITESPACE      shift and go to state 2
    NEWLINE         shift and go to state 3

    oprex                          shift and go to state 1

state 1

    (0) S' -> oprex .



state 2

    (2) oprex -> WHITESPACE .

    $end            reduce using rule 2 (oprex -> WHITESPACE .)


state 3

    (3) oprex -> NEWLINE .
    (4) oprex -> NEWLINE . expression
    (5) oprex -> NEWLINE . INDENT expression DEDENT
    (6) expression -> . VARNAME NEWLINE
    (7) expression -> . VARNAME NEWLINE INDENT definitions DEDENT
    (8) expression -> . SLASH cell moreCells NEWLINE
    (9) expression -> . SLASH cell moreCells NEWLINE INDENT definitions DEDENT

    $end            reduce using rule 3 (oprex -> NEWLINE .)
    INDENT          shift and go to state 4
    VARNAME         shift and go to state 5
    SLASH           shift and go to state 6

    expression                     shift and go to state 7

state 4

    (5) oprex -> NEWLINE INDENT . expression DEDENT
    (6) expression -> . VARNAME NEWLINE
    (7) expression -> . VARNAME NEWLINE INDENT definitions DEDENT
    (8) expression -> . SLASH cell moreCells NEWLINE
    (9) expression -> . SLASH cell moreCells NEWLINE INDENT definitions DEDENT

    VARNAME         shift and go to state 5
    SLASH           shift and go to state 6

    expression                     shift and go to state 8

state 5

    (6) expression -> VARNAME . NEWLINE
    (7) expression -> VARNAME . NEWLINE INDENT definitions DEDENT

    NEWLINE         shift and go to state 9


state 6

    (8) expression -> SLASH . cell moreCells NEWLINE
    (9) expression -> SLASH . cell moreCells NEWLINE INDENT definitions DEDENT
    (10) cell -> . VARNAME SLASH
    (11) cell -> . VARNAME QUESTMARK SLASH

    VARNAME         shift and go to state 10

    cell                           shift and go to state 11

state 7

    (4) oprex -> NEWLINE expression .

    $end            reduce using rule 4 (oprex -> NEWLINE expression .)


state 8

    (5) oprex -> NEWLINE INDENT expression . DEDENT

    DEDENT          shift and go to state 12


state 9

    (6) expression -> VARNAME NEWLINE .
    (7) expression -> VARNAME NEWLINE . INDENT definitions DEDENT

    DEDENT          reduce using rule 6 (expression -> VARNAME NEWLINE .)
    VARNAME         reduce using rule 6 (expression -> VARNAME NEWLINE .)
    $end            reduce using rule 6 (expression -> VARNAME NEWLINE .)
    INDENT          shift and go to state 13


state 10

    (10) cell -> VARNAME . SLASH
    (11) cell -> VARNAME . QUESTMARK SLASH

    SLASH           shift and go to state 15
    QUESTMARK       shift and go to state 14


state 11

    (8) expression -> SLASH cell . moreCells NEWLINE
    (9) expression -> SLASH cell . moreCells NEWLINE INDENT definitions DEDENT
    (12) moreCells -> .
    (13) moreCells -> . cell moreCells
    (10) cell -> . VARNAME SLASH
    (11) cell -> . VARNAME QUESTMARK SLASH

    NEWLINE         reduce using rule 12 (moreCells -> .)
    VARNAME         shift and go to state 10

    cell                           shift and go to state 17
    moreCells                      shift and go to state 16

state 12

    (5) oprex -> NEWLINE INDENT expression DEDENT .

    $end            reduce using rule 5 (oprex -> NEWLINE INDENT expression DEDENT .)


state 13

    (7) expression -> VARNAME NEWLINE INDENT . definitions DEDENT
    (14) definitions -> .
    (15) definitions -> . definition definitions
    (16) definition -> . assignment definition
    (17) definition -> . assignment expression
    (18) definition -> . assignment CHARCLASS NEWLINE
    (19) definition -> . assignment LITERAL NEWLINE
    (20) assignment -> . VARNAME EQUALSIGN
    (21) assignment -> . VARNAME COLON

    DEDENT          reduce using rule 14 (definitions -> .)
    VARNAME         shift and go to state 19

    definitions                    shift and go to state 21
    assignment                     shift and go to state 20
    definition                     shift and go to state 18

state 14

    (11) cell -> VARNAME QUESTMARK . SLASH

    SLASH           shift and go to state 22


state 15

    (10) cell -> VARNAME SLASH .

    VARNAME         reduce using rule 10 (cell -> VARNAME SLASH .)
    NEWLINE         reduce using rule 10 (cell -> VARNAME SLASH .)


state 16

    (8) expression -> SLASH cell moreCells . NEWLINE
    (9) expression -> SLASH cell moreCells . NEWLINE INDENT definitions DEDENT

    NEWLINE         shift and go to state 23


state 17

    (13) moreCells -> cell . moreCells
    (12) moreCells -> .
    (13) moreCells -> . cell moreCells
    (10) cell -> . VARNAME SLASH
    (11) cell -> . VARNAME QUESTMARK SLASH

    NEWLINE         reduce using rule 12 (moreCells -> .)
    VARNAME         shift and go to state 10

    cell                           shift and go to state 17
    moreCells                      shift and go to state 24

state 18

    (15) definitions -> definition . definitions
    (14) definitions -> .
    (15) definitions -> . definition definitions
    (16) definition -> . assignment definition
    (17) definition -> . assignment expression
    (18) definition -> . assignment CHARCLASS NEWLINE
    (19) definition -> . assignment LITERAL NEWLINE
    (20) assignment -> . VARNAME EQUALSIGN
    (21) assignment -> . VARNAME COLON

    DEDENT          reduce using rule 14 (definitions -> .)
    VARNAME         shift and go to state 19

    definition                     shift and go to state 18
    assignment                     shift and go to state 20
    definitions                    shift and go to state 25

state 19

    (20) assignment -> VARNAME . EQUALSIGN
    (21) assignment -> VARNAME . COLON

    EQUALSIGN       shift and go to state 26
    COLON           shift and go to state 27


state 20

    (16) definition -> assignment . definition
    (17) definition -> assignment . expression
    (18) definition -> assignment . CHARCLASS NEWLINE
    (19) definition -> assignment . LITERAL NEWLINE
    (16) definition -> . assignment definition
    (17) definition -> . assignment expression
    (18) definition -> . assignment CHARCLASS NEWLINE
    (19) definition -> . assignment LITERAL NEWLINE
    (6) expression -> . VARNAME NEWLINE
    (7) expression -> . VARNAME NEWLINE INDENT definitions DEDENT
    (8) expression -> . SLASH cell moreCells NEWLINE
    (9) expression -> . SLASH cell moreCells NEWLINE INDENT definitions DEDENT
    (20) assignment -> . VARNAME EQUALSIGN
    (21) assignment -> . VARNAME COLON

    CHARCLASS       shift and go to state 30
    LITERAL         shift and go to state 29
    VARNAME         shift and go to state 31
    SLASH           shift and go to state 6

    definition                     shift and go to state 28
    assignment                     shift and go to state 20
    expression                     shift and go to state 32

state 21

    (7) expression -> VARNAME NEWLINE INDENT definitions . DEDENT

    DEDENT          shift and go to state 33


state 22

    (11) cell -> VARNAME QUESTMARK SLASH .

    VARNAME         reduce using rule 11 (cell -> VARNAME QUESTMARK SLASH .)
    NEWLINE         reduce using rule 11 (cell -> VARNAME QUESTMARK SLASH .)


state 23

    (8) expression -> SLASH cell moreCells NEWLINE .
    (9) expression -> SLASH cell moreCells NEWLINE . INDENT definitions DEDENT

    DEDENT          reduce using rule 8 (expression -> SLASH cell moreCells NEWLINE .)
    VARNAME         reduce using rule 8 (expression -> SLASH cell moreCells NEWLINE .)
    $end            reduce using rule 8 (expression -> SLASH cell moreCells NEWLINE .)
    INDENT          shift and go to state 34


state 24

    (13) moreCells -> cell moreCells .

    NEWLINE         reduce using rule 13 (moreCells -> cell moreCells .)


state 25

    (15) definitions -> definition definitions .

    DEDENT          reduce using rule 15 (definitions -> definition definitions .)


state 26

    (20) assignment -> VARNAME EQUALSIGN .

    CHARCLASS       reduce using rule 20 (assignment -> VARNAME EQUALSIGN .)
    LITERAL         reduce using rule 20 (assignment -> VARNAME EQUALSIGN .)
    VARNAME         reduce using rule 20 (assignment -> VARNAME EQUALSIGN .)
    SLASH           reduce using rule 20 (assignment -> VARNAME EQUALSIGN .)


state 27

    (21) assignment -> VARNAME COLON .

    CHARCLASS       reduce using rule 21 (assignment -> VARNAME COLON .)
    LITERAL         reduce using rule 21 (assignment -> VARNAME COLON .)
    VARNAME         reduce using rule 21 (assignment -> VARNAME COLON .)
    SLASH           reduce using rule 21 (assignment -> VARNAME COLON .)


state 28

    (16) definition -> assignment definition .

    VARNAME         reduce using rule 16 (definition -> assignment definition .)
    DEDENT          reduce using rule 16 (definition -> assignment definition .)


state 29

    (19) definition -> assignment LITERAL . NEWLINE

    NEWLINE         shift and go to state 35


state 30

    (18) definition -> assignment CHARCLASS . NEWLINE

    NEWLINE         shift and go to state 36


state 31

    (6) expression -> VARNAME . NEWLINE
    (7) expression -> VARNAME . NEWLINE INDENT definitions DEDENT
    (20) assignment -> VARNAME . EQUALSIGN
    (21) assignment -> VARNAME . COLON

    NEWLINE         shift and go to state 9
    EQUALSIGN       shift and go to state 26
    COLON           shift and go to state 27


state 32

    (17) definition -> assignment expression .

    VARNAME         reduce using rule 17 (definition -> assignment expression .)
    DEDENT          reduce using rule 17 (definition -> assignment expression .)


state 33

    (7) expression -> VARNAME NEWLINE INDENT definitions DEDENT .

    DEDENT          reduce using rule 7 (expression -> VARNAME NEWLINE INDENT definitions DEDENT .)
    VARNAME         reduce using rule 7 (expression -> VARNAME NEWLINE INDENT definitions DEDENT .)
    $end            reduce using rule 7 (expression -> VARNAME NEWLINE INDENT definitions DEDENT .)


state 34

    (9) expression -> SLASH cell moreCells NEWLINE INDENT . definitions DEDENT
    (14) definitions -> .
    (15) definitions -> . definition definitions
    (16) definition -> . assignment definition
    (17) definition -> . assignment expression
    (18) definition -> . assignment CHARCLASS NEWLINE
    (19) definition -> . assignment LITERAL NEWLINE
    (20) assignment -> . VARNAME EQUALSIGN
    (21) assignment -> . VARNAME COLON

    DEDENT          reduce using rule 14 (definitions -> .)
    VARNAME         shift and go to state 19

    definition                     shift and go to state 18
    assignment                     shift and go to state 20
    definitions                    shift and go to state 37

state 35

    (19) definition -> assignment LITERAL NEWLINE .

    VARNAME         reduce using rule 19 (definition -> assignment LITERAL NEWLINE .)
    DEDENT          reduce using rule 19 (definition -> assignment LITERAL NEWLINE .)


state 36

    (18) definition -> assignment CHARCLASS NEWLINE .

    VARNAME         reduce using rule 18 (definition -> assignment CHARCLASS NEWLINE .)
    DEDENT          reduce using rule 18 (definition -> assignment CHARCLASS NEWLINE .)


state 37

    (9) expression -> SLASH cell moreCells NEWLINE INDENT definitions . DEDENT

    DEDENT          shift and go to state 38


state 38

    (9) expression -> SLASH cell moreCells NEWLINE INDENT definitions DEDENT .

    DEDENT          reduce using rule 9 (expression -> SLASH cell moreCells NEWLINE INDENT definitions DEDENT .)
    VARNAME         reduce using rule 9 (expression -> SLASH cell moreCells NEWLINE INDENT definitions DEDENT .)
    $end            reduce using rule 9 (expression -> SLASH cell moreCells NEWLINE INDENT definitions DEDENT .)

