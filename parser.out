Created by PLY version 3.4 (http://www.dabeaz.com/ply)

Grammar

Rule 0     S' -> oprex
Rule 1     oprex -> <empty>
Rule 2     oprex -> WHITESPACE
Rule 3     oprex -> NEWLINE
Rule 4     oprex -> NEWLINE root_expression
Rule 5     oprex -> NEWLINE INDENT root_expression DEDENT
Rule 6     root_expression -> global_flags
Rule 7     root_expression -> expression
Rule 8     root_expression -> global_flags expression
Rule 9     global_flags -> LPAREN FLAGSET RPAREN NEWLINE
Rule 10    expression -> expr optional_subblock
Rule 11    expr -> string_expr
Rule 12    expr -> lookup_expr
Rule 13    expr -> orblock_expr
Rule 14    expr -> flagged_expr
Rule 15    expr -> quantified_expr
Rule 16    string_expr -> str_b STRING str_b NEWLINE
Rule 17    str_b -> <empty>
Rule 18    str_b -> DOT
Rule 19    str_b -> UNDERSCORE
Rule 20    quantified_expr -> quantifier WHITESPACE expr
Rule 21    quantified_expr -> quantifier COLON charclass
Rule 22    quantifier -> repeat_N_times
Rule 23    quantifier -> repeat_range
Rule 24    quantifier -> optionalize
Rule 25    repeat_N_times -> NUMBER of
Rule 26    repeat_range -> numrange of
Rule 27    repeat_range -> numrange backtrack MINUS of
Rule 28    repeat_range -> NUMBER backtrack PLUS DOT DOT of
Rule 29    repeat_range -> NUMBER backtrack PLUS DOT DOT NUMBER of
Rule 30    backtrack -> WHITESPACE LT LT
Rule 31    of -> WHITESPACE OF
Rule 32    numrange -> DOT DOT
Rule 33    numrange -> NUMBER DOT DOT
Rule 34    numrange -> DOT DOT NUMBER
Rule 35    numrange -> NUMBER DOT DOT NUMBER
Rule 36    optionalize -> QUESTMARK of
Rule 37    flagged_expr -> scoped_flags expr
Rule 38    scoped_flags -> LPAREN FLAGSET RPAREN WHITESPACE
Rule 39    orblock_expr -> BEGIN_ORBLOCK NEWLINE or_items END_OF_ORBLOCK
Rule 40    or_items -> OR expr
Rule 41    or_items -> OR expr or_items
Rule 42    lookup_expr -> lookup NEWLINE
Rule 43    lookup_expr -> SLASH lookup_chain NEWLINE
Rule 44    lookup_chain -> lookup SLASH
Rule 45    lookup_chain -> lookup SLASH lookup_chain
Rule 46    lookup -> lookup_type
Rule 47    lookup -> lookup_type QUESTMARK
Rule 48    lookup_type -> variable_lookup
Rule 49    lookup_type -> backreference
Rule 50    lookup_type -> subroutine_call
Rule 51    variable_lookup -> VARNAME
Rule 52    variable_lookup -> UNDERSCORE
Rule 53    variable_lookup -> DOT
Rule 54    backreference -> EQUALSIGN VARNAME
Rule 55    subroutine_call -> AMPERSAND VARNAME
Rule 56    charclass -> charitems NEWLINE
Rule 57    charitems -> WHITESPACE charitem
Rule 58    charitems -> WHITESPACE charitem charitems
Rule 59    charitem -> ranged_char
Rule 60    charitem -> single_char
Rule 61    charitem -> period_char
Rule 62    ranged_char -> CHAR DOT DOT CHAR
Rule 63    period_char -> DOT
Rule 64    single_char -> CHAR
Rule 65    optional_subblock -> begin_subblock definitions end_subblock
Rule 66    optional_subblock -> <empty>
Rule 67    begin_subblock -> INDENT
Rule 68    end_subblock -> DEDENT
Rule 69    definitions -> definition
Rule 70    definitions -> definition definitions
Rule 71    definition -> assignment
Rule 72    definition -> GLOBALMARK assignment
Rule 73    assignment -> declaration equals assignment
Rule 74    assignment -> declaration equals expression
Rule 75    assignment -> declaration COLON charclass optional_subblock
Rule 76    equals -> EQUALSIGN
Rule 77    equals -> WHITESPACE EQUALSIGN
Rule 78    equals -> EQUALSIGN WHITESPACE
Rule 79    equals -> WHITESPACE EQUALSIGN WHITESPACE
Rule 80    declaration -> VARNAME
Rule 81    declaration -> DOT VARNAME
Rule 82    declaration -> LT VARNAME GT
Rule 83    declaration -> DOT LT VARNAME GT

Terminals, with rules where they appear

AMPERSAND            : 55
BEGIN_ORBLOCK        : 39
CHAR                 : 62 62 64
COLON                : 21 75
DEDENT               : 5 68
DOT                  : 18 28 28 29 29 32 32 33 33 34 34 35 35 53 62 62 63 81 83
END_OF_ORBLOCK       : 39
EQUALSIGN            : 54 76 77 78 79
FLAGSET              : 9 38
GLOBALMARK           : 72
GT                   : 82 83
INDENT               : 5 67
LPAREN               : 9 38
LT                   : 30 30 82 83
MINUS                : 27
NEWLINE              : 3 4 5 9 16 39 42 43 56
NUMBER               : 25 28 29 29 33 34 35 35
OF                   : 31
OR                   : 40 41
PLUS                 : 28 29
QUESTMARK            : 36 47
RPAREN               : 9 38
SLASH                : 43 44 45
STRING               : 16
UNDERSCORE           : 19 52
VARNAME              : 51 54 55 80 81 82 83
WHITESPACE           : 2 20 30 31 38 57 58 77 78 79 79
error                : 

Nonterminals, with rules where they appear

assignment           : 71 72 73
backreference        : 49
backtrack            : 27 28 29
begin_subblock       : 65
charclass            : 21 75
charitem             : 57 58
charitems            : 56 58
declaration          : 73 74 75
definition           : 69 70
definitions          : 65 70
end_subblock         : 65
equals               : 73 74
expr                 : 10 20 37 40 41
expression           : 7 8 74
flagged_expr         : 14
global_flags         : 6 8
lookup               : 42 44 45
lookup_chain         : 43 45
lookup_expr          : 12
lookup_type          : 46 47
numrange             : 26 27
of                   : 25 26 27 28 29 36
oprex                : 0
optional_subblock    : 10 75
optionalize          : 24
or_items             : 39 41
orblock_expr         : 13
period_char          : 61
quantified_expr      : 15
quantifier           : 20 21
ranged_char          : 59
repeat_N_times       : 22
repeat_range         : 23
root_expression      : 4 5
scoped_flags         : 37
single_char          : 60
str_b                : 16 16
string_expr          : 11
subroutine_call      : 50
variable_lookup      : 48

Parsing method: LALR

state 0

    (0) S' -> . oprex
    (1) oprex -> .
    (2) oprex -> . WHITESPACE
    (3) oprex -> . NEWLINE
    (4) oprex -> . NEWLINE root_expression
    (5) oprex -> . NEWLINE INDENT root_expression DEDENT

    $end            reduce using rule 1 (oprex -> .)
    WHITESPACE      shift and go to state 2
    NEWLINE         shift and go to state 3

    oprex                          shift and go to state 1

state 1

    (0) S' -> oprex .



state 2

    (2) oprex -> WHITESPACE .

    $end            reduce using rule 2 (oprex -> WHITESPACE .)


state 3

    (3) oprex -> NEWLINE .
    (4) oprex -> NEWLINE . root_expression
    (5) oprex -> NEWLINE . INDENT root_expression DEDENT
    (6) root_expression -> . global_flags
    (7) root_expression -> . expression
    (8) root_expression -> . global_flags expression
    (9) global_flags -> . LPAREN FLAGSET RPAREN NEWLINE
    (10) expression -> . expr optional_subblock
    (11) expr -> . string_expr
    (12) expr -> . lookup_expr
    (13) expr -> . orblock_expr
    (14) expr -> . flagged_expr
    (15) expr -> . quantified_expr
    (16) string_expr -> . str_b STRING str_b NEWLINE
    (42) lookup_expr -> . lookup NEWLINE
    (43) lookup_expr -> . SLASH lookup_chain NEWLINE
    (39) orblock_expr -> . BEGIN_ORBLOCK NEWLINE or_items END_OF_ORBLOCK
    (37) flagged_expr -> . scoped_flags expr
    (20) quantified_expr -> . quantifier WHITESPACE expr
    (21) quantified_expr -> . quantifier COLON charclass
    (17) str_b -> .
    (18) str_b -> . DOT
    (19) str_b -> . UNDERSCORE
    (46) lookup -> . lookup_type
    (47) lookup -> . lookup_type QUESTMARK
    (38) scoped_flags -> . LPAREN FLAGSET RPAREN WHITESPACE
    (22) quantifier -> . repeat_N_times
    (23) quantifier -> . repeat_range
    (24) quantifier -> . optionalize
    (48) lookup_type -> . variable_lookup
    (49) lookup_type -> . backreference
    (50) lookup_type -> . subroutine_call
    (25) repeat_N_times -> . NUMBER of
    (26) repeat_range -> . numrange of
    (27) repeat_range -> . numrange backtrack MINUS of
    (28) repeat_range -> . NUMBER backtrack PLUS DOT DOT of
    (29) repeat_range -> . NUMBER backtrack PLUS DOT DOT NUMBER of
    (36) optionalize -> . QUESTMARK of
    (51) variable_lookup -> . VARNAME
    (52) variable_lookup -> . UNDERSCORE
    (53) variable_lookup -> . DOT
    (54) backreference -> . EQUALSIGN VARNAME
    (55) subroutine_call -> . AMPERSAND VARNAME
    (32) numrange -> . DOT DOT
    (33) numrange -> . NUMBER DOT DOT
    (34) numrange -> . DOT DOT NUMBER
    (35) numrange -> . NUMBER DOT DOT NUMBER

    $end            reduce using rule 3 (oprex -> NEWLINE .)
    INDENT          shift and go to state 29
    LPAREN          shift and go to state 24
    SLASH           shift and go to state 23
    BEGIN_ORBLOCK   shift and go to state 16
    STRING          reduce using rule 17 (str_b -> .)
    DOT             shift and go to state 12
    UNDERSCORE      shift and go to state 10
    NUMBER          shift and go to state 21
    QUESTMARK       shift and go to state 27
    VARNAME         shift and go to state 7
    EQUALSIGN       shift and go to state 34
    AMPERSAND       shift and go to state 22

    scoped_flags                   shift and go to state 19
    repeat_N_times                 shift and go to state 4
    flagged_expr                   shift and go to state 5
    global_flags                   shift and go to state 6
    repeat_range                   shift and go to state 8
    backreference                  shift and go to state 9
    lookup_expr                    shift and go to state 11
    optionalize                    shift and go to state 13
    string_expr                    shift and go to state 14
    str_b                          shift and go to state 15
    lookup                         shift and go to state 17
    subroutine_call                shift and go to state 18
    orblock_expr                   shift and go to state 20
    numrange                       shift and go to state 26
    quantifier                     shift and go to state 25
    quantified_expr                shift and go to state 28
    expr                           shift and go to state 30
    lookup_type                    shift and go to state 31
    expression                     shift and go to state 32
    root_expression                shift and go to state 33
    variable_lookup                shift and go to state 35

state 4

    (22) quantifier -> repeat_N_times .

    WHITESPACE      reduce using rule 22 (quantifier -> repeat_N_times .)
    COLON           reduce using rule 22 (quantifier -> repeat_N_times .)


state 5

    (14) expr -> flagged_expr .

    INDENT          reduce using rule 14 (expr -> flagged_expr .)
    $end            reduce using rule 14 (expr -> flagged_expr .)
    DEDENT          reduce using rule 14 (expr -> flagged_expr .)
    OR              reduce using rule 14 (expr -> flagged_expr .)
    END_OF_ORBLOCK  reduce using rule 14 (expr -> flagged_expr .)
    GLOBALMARK      reduce using rule 14 (expr -> flagged_expr .)
    VARNAME         reduce using rule 14 (expr -> flagged_expr .)
    DOT             reduce using rule 14 (expr -> flagged_expr .)
    LT              reduce using rule 14 (expr -> flagged_expr .)


state 6

    (6) root_expression -> global_flags .
    (8) root_expression -> global_flags . expression
    (10) expression -> . expr optional_subblock
    (11) expr -> . string_expr
    (12) expr -> . lookup_expr
    (13) expr -> . orblock_expr
    (14) expr -> . flagged_expr
    (15) expr -> . quantified_expr
    (16) string_expr -> . str_b STRING str_b NEWLINE
    (42) lookup_expr -> . lookup NEWLINE
    (43) lookup_expr -> . SLASH lookup_chain NEWLINE
    (39) orblock_expr -> . BEGIN_ORBLOCK NEWLINE or_items END_OF_ORBLOCK
    (37) flagged_expr -> . scoped_flags expr
    (20) quantified_expr -> . quantifier WHITESPACE expr
    (21) quantified_expr -> . quantifier COLON charclass
    (17) str_b -> .
    (18) str_b -> . DOT
    (19) str_b -> . UNDERSCORE
    (46) lookup -> . lookup_type
    (47) lookup -> . lookup_type QUESTMARK
    (38) scoped_flags -> . LPAREN FLAGSET RPAREN WHITESPACE
    (22) quantifier -> . repeat_N_times
    (23) quantifier -> . repeat_range
    (24) quantifier -> . optionalize
    (48) lookup_type -> . variable_lookup
    (49) lookup_type -> . backreference
    (50) lookup_type -> . subroutine_call
    (25) repeat_N_times -> . NUMBER of
    (26) repeat_range -> . numrange of
    (27) repeat_range -> . numrange backtrack MINUS of
    (28) repeat_range -> . NUMBER backtrack PLUS DOT DOT of
    (29) repeat_range -> . NUMBER backtrack PLUS DOT DOT NUMBER of
    (36) optionalize -> . QUESTMARK of
    (51) variable_lookup -> . VARNAME
    (52) variable_lookup -> . UNDERSCORE
    (53) variable_lookup -> . DOT
    (54) backreference -> . EQUALSIGN VARNAME
    (55) subroutine_call -> . AMPERSAND VARNAME
    (32) numrange -> . DOT DOT
    (33) numrange -> . NUMBER DOT DOT
    (34) numrange -> . DOT DOT NUMBER
    (35) numrange -> . NUMBER DOT DOT NUMBER

    $end            reduce using rule 6 (root_expression -> global_flags .)
    DEDENT          reduce using rule 6 (root_expression -> global_flags .)
    SLASH           shift and go to state 23
    BEGIN_ORBLOCK   shift and go to state 16
    STRING          reduce using rule 17 (str_b -> .)
    DOT             shift and go to state 12
    UNDERSCORE      shift and go to state 10
    LPAREN          shift and go to state 36
    NUMBER          shift and go to state 21
    QUESTMARK       shift and go to state 27
    VARNAME         shift and go to state 7
    EQUALSIGN       shift and go to state 34
    AMPERSAND       shift and go to state 22

    scoped_flags                   shift and go to state 19
    repeat_N_times                 shift and go to state 4
    flagged_expr                   shift and go to state 5
    repeat_range                   shift and go to state 8
    backreference                  shift and go to state 9
    lookup_expr                    shift and go to state 11
    optionalize                    shift and go to state 13
    string_expr                    shift and go to state 14
    str_b                          shift and go to state 15
    lookup                         shift and go to state 17
    subroutine_call                shift and go to state 18
    orblock_expr                   shift and go to state 20
    numrange                       shift and go to state 26
    quantifier                     shift and go to state 25
    quantified_expr                shift and go to state 28
    expr                           shift and go to state 30
    lookup_type                    shift and go to state 31
    expression                     shift and go to state 37
    variable_lookup                shift and go to state 35

state 7

    (51) variable_lookup -> VARNAME .

    QUESTMARK       reduce using rule 51 (variable_lookup -> VARNAME .)
    SLASH           reduce using rule 51 (variable_lookup -> VARNAME .)
    NEWLINE         reduce using rule 51 (variable_lookup -> VARNAME .)


state 8

    (23) quantifier -> repeat_range .

    WHITESPACE      reduce using rule 23 (quantifier -> repeat_range .)
    COLON           reduce using rule 23 (quantifier -> repeat_range .)


state 9

    (49) lookup_type -> backreference .

    QUESTMARK       reduce using rule 49 (lookup_type -> backreference .)
    NEWLINE         reduce using rule 49 (lookup_type -> backreference .)
    SLASH           reduce using rule 49 (lookup_type -> backreference .)


state 10

    (19) str_b -> UNDERSCORE .
    (52) variable_lookup -> UNDERSCORE .

    STRING          reduce using rule 19 (str_b -> UNDERSCORE .)
    QUESTMARK       reduce using rule 52 (variable_lookup -> UNDERSCORE .)
    NEWLINE         reduce using rule 52 (variable_lookup -> UNDERSCORE .)


state 11

    (12) expr -> lookup_expr .

    INDENT          reduce using rule 12 (expr -> lookup_expr .)
    $end            reduce using rule 12 (expr -> lookup_expr .)
    DEDENT          reduce using rule 12 (expr -> lookup_expr .)
    OR              reduce using rule 12 (expr -> lookup_expr .)
    END_OF_ORBLOCK  reduce using rule 12 (expr -> lookup_expr .)
    GLOBALMARK      reduce using rule 12 (expr -> lookup_expr .)
    VARNAME         reduce using rule 12 (expr -> lookup_expr .)
    DOT             reduce using rule 12 (expr -> lookup_expr .)
    LT              reduce using rule 12 (expr -> lookup_expr .)


state 12

    (18) str_b -> DOT .
    (53) variable_lookup -> DOT .
    (32) numrange -> DOT . DOT
    (34) numrange -> DOT . DOT NUMBER

    STRING          reduce using rule 18 (str_b -> DOT .)
    QUESTMARK       reduce using rule 53 (variable_lookup -> DOT .)
    NEWLINE         reduce using rule 53 (variable_lookup -> DOT .)
    DOT             shift and go to state 38


state 13

    (24) quantifier -> optionalize .

    WHITESPACE      reduce using rule 24 (quantifier -> optionalize .)
    COLON           reduce using rule 24 (quantifier -> optionalize .)


state 14

    (11) expr -> string_expr .

    INDENT          reduce using rule 11 (expr -> string_expr .)
    $end            reduce using rule 11 (expr -> string_expr .)
    DEDENT          reduce using rule 11 (expr -> string_expr .)
    OR              reduce using rule 11 (expr -> string_expr .)
    END_OF_ORBLOCK  reduce using rule 11 (expr -> string_expr .)
    GLOBALMARK      reduce using rule 11 (expr -> string_expr .)
    VARNAME         reduce using rule 11 (expr -> string_expr .)
    DOT             reduce using rule 11 (expr -> string_expr .)
    LT              reduce using rule 11 (expr -> string_expr .)


state 15

    (16) string_expr -> str_b . STRING str_b NEWLINE

    STRING          shift and go to state 39


state 16

    (39) orblock_expr -> BEGIN_ORBLOCK . NEWLINE or_items END_OF_ORBLOCK

    NEWLINE         shift and go to state 40


state 17

    (42) lookup_expr -> lookup . NEWLINE

    NEWLINE         shift and go to state 41


state 18

    (50) lookup_type -> subroutine_call .

    QUESTMARK       reduce using rule 50 (lookup_type -> subroutine_call .)
    NEWLINE         reduce using rule 50 (lookup_type -> subroutine_call .)
    SLASH           reduce using rule 50 (lookup_type -> subroutine_call .)


state 19

    (37) flagged_expr -> scoped_flags . expr
    (11) expr -> . string_expr
    (12) expr -> . lookup_expr
    (13) expr -> . orblock_expr
    (14) expr -> . flagged_expr
    (15) expr -> . quantified_expr
    (16) string_expr -> . str_b STRING str_b NEWLINE
    (42) lookup_expr -> . lookup NEWLINE
    (43) lookup_expr -> . SLASH lookup_chain NEWLINE
    (39) orblock_expr -> . BEGIN_ORBLOCK NEWLINE or_items END_OF_ORBLOCK
    (37) flagged_expr -> . scoped_flags expr
    (20) quantified_expr -> . quantifier WHITESPACE expr
    (21) quantified_expr -> . quantifier COLON charclass
    (17) str_b -> .
    (18) str_b -> . DOT
    (19) str_b -> . UNDERSCORE
    (46) lookup -> . lookup_type
    (47) lookup -> . lookup_type QUESTMARK
    (38) scoped_flags -> . LPAREN FLAGSET RPAREN WHITESPACE
    (22) quantifier -> . repeat_N_times
    (23) quantifier -> . repeat_range
    (24) quantifier -> . optionalize
    (48) lookup_type -> . variable_lookup
    (49) lookup_type -> . backreference
    (50) lookup_type -> . subroutine_call
    (25) repeat_N_times -> . NUMBER of
    (26) repeat_range -> . numrange of
    (27) repeat_range -> . numrange backtrack MINUS of
    (28) repeat_range -> . NUMBER backtrack PLUS DOT DOT of
    (29) repeat_range -> . NUMBER backtrack PLUS DOT DOT NUMBER of
    (36) optionalize -> . QUESTMARK of
    (51) variable_lookup -> . VARNAME
    (52) variable_lookup -> . UNDERSCORE
    (53) variable_lookup -> . DOT
    (54) backreference -> . EQUALSIGN VARNAME
    (55) subroutine_call -> . AMPERSAND VARNAME
    (32) numrange -> . DOT DOT
    (33) numrange -> . NUMBER DOT DOT
    (34) numrange -> . DOT DOT NUMBER
    (35) numrange -> . NUMBER DOT DOT NUMBER

    SLASH           shift and go to state 23
    BEGIN_ORBLOCK   shift and go to state 16
    STRING          reduce using rule 17 (str_b -> .)
    DOT             shift and go to state 12
    UNDERSCORE      shift and go to state 10
    LPAREN          shift and go to state 36
    NUMBER          shift and go to state 21
    QUESTMARK       shift and go to state 27
    VARNAME         shift and go to state 7
    EQUALSIGN       shift and go to state 34
    AMPERSAND       shift and go to state 22

    scoped_flags                   shift and go to state 19
    repeat_N_times                 shift and go to state 4
    flagged_expr                   shift and go to state 5
    repeat_range                   shift and go to state 8
    backreference                  shift and go to state 9
    lookup_expr                    shift and go to state 11
    optionalize                    shift and go to state 13
    string_expr                    shift and go to state 14
    str_b                          shift and go to state 15
    lookup                         shift and go to state 17
    subroutine_call                shift and go to state 18
    orblock_expr                   shift and go to state 20
    numrange                       shift and go to state 26
    quantifier                     shift and go to state 25
    quantified_expr                shift and go to state 28
    expr                           shift and go to state 42
    lookup_type                    shift and go to state 31
    variable_lookup                shift and go to state 35

state 20

    (13) expr -> orblock_expr .

    INDENT          reduce using rule 13 (expr -> orblock_expr .)
    $end            reduce using rule 13 (expr -> orblock_expr .)
    DEDENT          reduce using rule 13 (expr -> orblock_expr .)
    OR              reduce using rule 13 (expr -> orblock_expr .)
    END_OF_ORBLOCK  reduce using rule 13 (expr -> orblock_expr .)
    GLOBALMARK      reduce using rule 13 (expr -> orblock_expr .)
    VARNAME         reduce using rule 13 (expr -> orblock_expr .)
    DOT             reduce using rule 13 (expr -> orblock_expr .)
    LT              reduce using rule 13 (expr -> orblock_expr .)


state 21

    (25) repeat_N_times -> NUMBER . of
    (28) repeat_range -> NUMBER . backtrack PLUS DOT DOT of
    (29) repeat_range -> NUMBER . backtrack PLUS DOT DOT NUMBER of
    (33) numrange -> NUMBER . DOT DOT
    (35) numrange -> NUMBER . DOT DOT NUMBER
    (31) of -> . WHITESPACE OF
    (30) backtrack -> . WHITESPACE LT LT

    DOT             shift and go to state 46
    WHITESPACE      shift and go to state 43

    of                             shift and go to state 45
    backtrack                      shift and go to state 44

state 22

    (55) subroutine_call -> AMPERSAND . VARNAME

    VARNAME         shift and go to state 47


state 23

    (43) lookup_expr -> SLASH . lookup_chain NEWLINE
    (44) lookup_chain -> . lookup SLASH
    (45) lookup_chain -> . lookup SLASH lookup_chain
    (46) lookup -> . lookup_type
    (47) lookup -> . lookup_type QUESTMARK
    (48) lookup_type -> . variable_lookup
    (49) lookup_type -> . backreference
    (50) lookup_type -> . subroutine_call
    (51) variable_lookup -> . VARNAME
    (52) variable_lookup -> . UNDERSCORE
    (53) variable_lookup -> . DOT
    (54) backreference -> . EQUALSIGN VARNAME
    (55) subroutine_call -> . AMPERSAND VARNAME

    VARNAME         shift and go to state 7
    UNDERSCORE      shift and go to state 48
    DOT             shift and go to state 50
    EQUALSIGN       shift and go to state 34
    AMPERSAND       shift and go to state 22

    lookup_type                    shift and go to state 31
    backreference                  shift and go to state 9
    lookup                         shift and go to state 49
    subroutine_call                shift and go to state 18
    lookup_chain                   shift and go to state 51
    variable_lookup                shift and go to state 35

state 24

    (9) global_flags -> LPAREN . FLAGSET RPAREN NEWLINE
    (38) scoped_flags -> LPAREN . FLAGSET RPAREN WHITESPACE

    FLAGSET         shift and go to state 52


state 25

    (20) quantified_expr -> quantifier . WHITESPACE expr
    (21) quantified_expr -> quantifier . COLON charclass

    WHITESPACE      shift and go to state 54
    COLON           shift and go to state 53


state 26

    (26) repeat_range -> numrange . of
    (27) repeat_range -> numrange . backtrack MINUS of
    (31) of -> . WHITESPACE OF
    (30) backtrack -> . WHITESPACE LT LT

    WHITESPACE      shift and go to state 43

    of                             shift and go to state 56
    backtrack                      shift and go to state 55

state 27

    (36) optionalize -> QUESTMARK . of
    (31) of -> . WHITESPACE OF

    WHITESPACE      shift and go to state 58

    of                             shift and go to state 57

state 28

    (15) expr -> quantified_expr .

    INDENT          reduce using rule 15 (expr -> quantified_expr .)
    $end            reduce using rule 15 (expr -> quantified_expr .)
    DEDENT          reduce using rule 15 (expr -> quantified_expr .)
    OR              reduce using rule 15 (expr -> quantified_expr .)
    END_OF_ORBLOCK  reduce using rule 15 (expr -> quantified_expr .)
    GLOBALMARK      reduce using rule 15 (expr -> quantified_expr .)
    VARNAME         reduce using rule 15 (expr -> quantified_expr .)
    DOT             reduce using rule 15 (expr -> quantified_expr .)
    LT              reduce using rule 15 (expr -> quantified_expr .)


state 29

    (5) oprex -> NEWLINE INDENT . root_expression DEDENT
    (6) root_expression -> . global_flags
    (7) root_expression -> . expression
    (8) root_expression -> . global_flags expression
    (9) global_flags -> . LPAREN FLAGSET RPAREN NEWLINE
    (10) expression -> . expr optional_subblock
    (11) expr -> . string_expr
    (12) expr -> . lookup_expr
    (13) expr -> . orblock_expr
    (14) expr -> . flagged_expr
    (15) expr -> . quantified_expr
    (16) string_expr -> . str_b STRING str_b NEWLINE
    (42) lookup_expr -> . lookup NEWLINE
    (43) lookup_expr -> . SLASH lookup_chain NEWLINE
    (39) orblock_expr -> . BEGIN_ORBLOCK NEWLINE or_items END_OF_ORBLOCK
    (37) flagged_expr -> . scoped_flags expr
    (20) quantified_expr -> . quantifier WHITESPACE expr
    (21) quantified_expr -> . quantifier COLON charclass
    (17) str_b -> .
    (18) str_b -> . DOT
    (19) str_b -> . UNDERSCORE
    (46) lookup -> . lookup_type
    (47) lookup -> . lookup_type QUESTMARK
    (38) scoped_flags -> . LPAREN FLAGSET RPAREN WHITESPACE
    (22) quantifier -> . repeat_N_times
    (23) quantifier -> . repeat_range
    (24) quantifier -> . optionalize
    (48) lookup_type -> . variable_lookup
    (49) lookup_type -> . backreference
    (50) lookup_type -> . subroutine_call
    (25) repeat_N_times -> . NUMBER of
    (26) repeat_range -> . numrange of
    (27) repeat_range -> . numrange backtrack MINUS of
    (28) repeat_range -> . NUMBER backtrack PLUS DOT DOT of
    (29) repeat_range -> . NUMBER backtrack PLUS DOT DOT NUMBER of
    (36) optionalize -> . QUESTMARK of
    (51) variable_lookup -> . VARNAME
    (52) variable_lookup -> . UNDERSCORE
    (53) variable_lookup -> . DOT
    (54) backreference -> . EQUALSIGN VARNAME
    (55) subroutine_call -> . AMPERSAND VARNAME
    (32) numrange -> . DOT DOT
    (33) numrange -> . NUMBER DOT DOT
    (34) numrange -> . DOT DOT NUMBER
    (35) numrange -> . NUMBER DOT DOT NUMBER

    LPAREN          shift and go to state 24
    SLASH           shift and go to state 23
    BEGIN_ORBLOCK   shift and go to state 16
    STRING          reduce using rule 17 (str_b -> .)
    DOT             shift and go to state 12
    UNDERSCORE      shift and go to state 10
    NUMBER          shift and go to state 21
    QUESTMARK       shift and go to state 27
    VARNAME         shift and go to state 7
    EQUALSIGN       shift and go to state 34
    AMPERSAND       shift and go to state 22

    scoped_flags                   shift and go to state 19
    repeat_N_times                 shift and go to state 4
    flagged_expr                   shift and go to state 5
    global_flags                   shift and go to state 6
    repeat_range                   shift and go to state 8
    backreference                  shift and go to state 9
    lookup_expr                    shift and go to state 11
    optionalize                    shift and go to state 13
    string_expr                    shift and go to state 14
    str_b                          shift and go to state 15
    lookup                         shift and go to state 17
    subroutine_call                shift and go to state 18
    orblock_expr                   shift and go to state 20
    numrange                       shift and go to state 26
    quantifier                     shift and go to state 25
    quantified_expr                shift and go to state 28
    expr                           shift and go to state 30
    lookup_type                    shift and go to state 31
    expression                     shift and go to state 32
    root_expression                shift and go to state 59
    variable_lookup                shift and go to state 35

state 30

    (10) expression -> expr . optional_subblock
    (65) optional_subblock -> . begin_subblock definitions end_subblock
    (66) optional_subblock -> .
    (67) begin_subblock -> . INDENT

    $end            reduce using rule 66 (optional_subblock -> .)
    DEDENT          reduce using rule 66 (optional_subblock -> .)
    GLOBALMARK      reduce using rule 66 (optional_subblock -> .)
    VARNAME         reduce using rule 66 (optional_subblock -> .)
    DOT             reduce using rule 66 (optional_subblock -> .)
    LT              reduce using rule 66 (optional_subblock -> .)
    INDENT          shift and go to state 60

    optional_subblock              shift and go to state 62
    begin_subblock                 shift and go to state 61

state 31

    (46) lookup -> lookup_type .
    (47) lookup -> lookup_type . QUESTMARK

    NEWLINE         reduce using rule 46 (lookup -> lookup_type .)
    SLASH           reduce using rule 46 (lookup -> lookup_type .)
    QUESTMARK       shift and go to state 63


state 32

    (7) root_expression -> expression .

    $end            reduce using rule 7 (root_expression -> expression .)
    DEDENT          reduce using rule 7 (root_expression -> expression .)


state 33

    (4) oprex -> NEWLINE root_expression .

    $end            reduce using rule 4 (oprex -> NEWLINE root_expression .)


state 34

    (54) backreference -> EQUALSIGN . VARNAME

    VARNAME         shift and go to state 64


state 35

    (48) lookup_type -> variable_lookup .

    QUESTMARK       reduce using rule 48 (lookup_type -> variable_lookup .)
    NEWLINE         reduce using rule 48 (lookup_type -> variable_lookup .)
    SLASH           reduce using rule 48 (lookup_type -> variable_lookup .)


state 36

    (38) scoped_flags -> LPAREN . FLAGSET RPAREN WHITESPACE

    FLAGSET         shift and go to state 65


state 37

    (8) root_expression -> global_flags expression .

    $end            reduce using rule 8 (root_expression -> global_flags expression .)
    DEDENT          reduce using rule 8 (root_expression -> global_flags expression .)


state 38

    (32) numrange -> DOT DOT .
    (34) numrange -> DOT DOT . NUMBER

    WHITESPACE      reduce using rule 32 (numrange -> DOT DOT .)
    NUMBER          shift and go to state 66


state 39

    (16) string_expr -> str_b STRING . str_b NEWLINE
    (17) str_b -> .
    (18) str_b -> . DOT
    (19) str_b -> . UNDERSCORE

    NEWLINE         reduce using rule 17 (str_b -> .)
    DOT             shift and go to state 68
    UNDERSCORE      shift and go to state 67

    str_b                          shift and go to state 69

state 40

    (39) orblock_expr -> BEGIN_ORBLOCK NEWLINE . or_items END_OF_ORBLOCK
    (40) or_items -> . OR expr
    (41) or_items -> . OR expr or_items

    OR              shift and go to state 71

    or_items                       shift and go to state 70

state 41

    (42) lookup_expr -> lookup NEWLINE .

    OR              reduce using rule 42 (lookup_expr -> lookup NEWLINE .)
    END_OF_ORBLOCK  reduce using rule 42 (lookup_expr -> lookup NEWLINE .)
    INDENT          reduce using rule 42 (lookup_expr -> lookup NEWLINE .)
    DEDENT          reduce using rule 42 (lookup_expr -> lookup NEWLINE .)
    GLOBALMARK      reduce using rule 42 (lookup_expr -> lookup NEWLINE .)
    VARNAME         reduce using rule 42 (lookup_expr -> lookup NEWLINE .)
    DOT             reduce using rule 42 (lookup_expr -> lookup NEWLINE .)
    LT              reduce using rule 42 (lookup_expr -> lookup NEWLINE .)
    $end            reduce using rule 42 (lookup_expr -> lookup NEWLINE .)


state 42

    (37) flagged_expr -> scoped_flags expr .

    INDENT          reduce using rule 37 (flagged_expr -> scoped_flags expr .)
    $end            reduce using rule 37 (flagged_expr -> scoped_flags expr .)
    DEDENT          reduce using rule 37 (flagged_expr -> scoped_flags expr .)
    OR              reduce using rule 37 (flagged_expr -> scoped_flags expr .)
    END_OF_ORBLOCK  reduce using rule 37 (flagged_expr -> scoped_flags expr .)
    GLOBALMARK      reduce using rule 37 (flagged_expr -> scoped_flags expr .)
    VARNAME         reduce using rule 37 (flagged_expr -> scoped_flags expr .)
    DOT             reduce using rule 37 (flagged_expr -> scoped_flags expr .)
    LT              reduce using rule 37 (flagged_expr -> scoped_flags expr .)


state 43

    (31) of -> WHITESPACE . OF
    (30) backtrack -> WHITESPACE . LT LT

    OF              shift and go to state 72
    LT              shift and go to state 73


state 44

    (28) repeat_range -> NUMBER backtrack . PLUS DOT DOT of
    (29) repeat_range -> NUMBER backtrack . PLUS DOT DOT NUMBER of

    PLUS            shift and go to state 74


state 45

    (25) repeat_N_times -> NUMBER of .

    WHITESPACE      reduce using rule 25 (repeat_N_times -> NUMBER of .)
    COLON           reduce using rule 25 (repeat_N_times -> NUMBER of .)


state 46

    (33) numrange -> NUMBER DOT . DOT
    (35) numrange -> NUMBER DOT . DOT NUMBER

    DOT             shift and go to state 75


state 47

    (55) subroutine_call -> AMPERSAND VARNAME .

    QUESTMARK       reduce using rule 55 (subroutine_call -> AMPERSAND VARNAME .)
    NEWLINE         reduce using rule 55 (subroutine_call -> AMPERSAND VARNAME .)
    SLASH           reduce using rule 55 (subroutine_call -> AMPERSAND VARNAME .)


state 48

    (52) variable_lookup -> UNDERSCORE .

    QUESTMARK       reduce using rule 52 (variable_lookup -> UNDERSCORE .)
    SLASH           reduce using rule 52 (variable_lookup -> UNDERSCORE .)


state 49

    (44) lookup_chain -> lookup . SLASH
    (45) lookup_chain -> lookup . SLASH lookup_chain

    SLASH           shift and go to state 76


state 50

    (53) variable_lookup -> DOT .

    QUESTMARK       reduce using rule 53 (variable_lookup -> DOT .)
    SLASH           reduce using rule 53 (variable_lookup -> DOT .)


state 51

    (43) lookup_expr -> SLASH lookup_chain . NEWLINE

    NEWLINE         shift and go to state 77


state 52

    (9) global_flags -> LPAREN FLAGSET . RPAREN NEWLINE
    (38) scoped_flags -> LPAREN FLAGSET . RPAREN WHITESPACE

    RPAREN          shift and go to state 78


state 53

    (21) quantified_expr -> quantifier COLON . charclass
    (56) charclass -> . charitems NEWLINE
    (57) charitems -> . WHITESPACE charitem
    (58) charitems -> . WHITESPACE charitem charitems

    WHITESPACE      shift and go to state 79

    charitems                      shift and go to state 81
    charclass                      shift and go to state 80

state 54

    (20) quantified_expr -> quantifier WHITESPACE . expr
    (11) expr -> . string_expr
    (12) expr -> . lookup_expr
    (13) expr -> . orblock_expr
    (14) expr -> . flagged_expr
    (15) expr -> . quantified_expr
    (16) string_expr -> . str_b STRING str_b NEWLINE
    (42) lookup_expr -> . lookup NEWLINE
    (43) lookup_expr -> . SLASH lookup_chain NEWLINE
    (39) orblock_expr -> . BEGIN_ORBLOCK NEWLINE or_items END_OF_ORBLOCK
    (37) flagged_expr -> . scoped_flags expr
    (20) quantified_expr -> . quantifier WHITESPACE expr
    (21) quantified_expr -> . quantifier COLON charclass
    (17) str_b -> .
    (18) str_b -> . DOT
    (19) str_b -> . UNDERSCORE
    (46) lookup -> . lookup_type
    (47) lookup -> . lookup_type QUESTMARK
    (38) scoped_flags -> . LPAREN FLAGSET RPAREN WHITESPACE
    (22) quantifier -> . repeat_N_times
    (23) quantifier -> . repeat_range
    (24) quantifier -> . optionalize
    (48) lookup_type -> . variable_lookup
    (49) lookup_type -> . backreference
    (50) lookup_type -> . subroutine_call
    (25) repeat_N_times -> . NUMBER of
    (26) repeat_range -> . numrange of
    (27) repeat_range -> . numrange backtrack MINUS of
    (28) repeat_range -> . NUMBER backtrack PLUS DOT DOT of
    (29) repeat_range -> . NUMBER backtrack PLUS DOT DOT NUMBER of
    (36) optionalize -> . QUESTMARK of
    (51) variable_lookup -> . VARNAME
    (52) variable_lookup -> . UNDERSCORE
    (53) variable_lookup -> . DOT
    (54) backreference -> . EQUALSIGN VARNAME
    (55) subroutine_call -> . AMPERSAND VARNAME
    (32) numrange -> . DOT DOT
    (33) numrange -> . NUMBER DOT DOT
    (34) numrange -> . DOT DOT NUMBER
    (35) numrange -> . NUMBER DOT DOT NUMBER

    SLASH           shift and go to state 23
    BEGIN_ORBLOCK   shift and go to state 16
    STRING          reduce using rule 17 (str_b -> .)
    DOT             shift and go to state 12
    UNDERSCORE      shift and go to state 10
    LPAREN          shift and go to state 36
    NUMBER          shift and go to state 21
    QUESTMARK       shift and go to state 27
    VARNAME         shift and go to state 7
    EQUALSIGN       shift and go to state 34
    AMPERSAND       shift and go to state 22

    scoped_flags                   shift and go to state 19
    repeat_N_times                 shift and go to state 4
    flagged_expr                   shift and go to state 5
    repeat_range                   shift and go to state 8
    backreference                  shift and go to state 9
    lookup_expr                    shift and go to state 11
    optionalize                    shift and go to state 13
    string_expr                    shift and go to state 14
    str_b                          shift and go to state 15
    lookup                         shift and go to state 17
    subroutine_call                shift and go to state 18
    orblock_expr                   shift and go to state 20
    numrange                       shift and go to state 26
    quantifier                     shift and go to state 25
    quantified_expr                shift and go to state 28
    expr                           shift and go to state 82
    lookup_type                    shift and go to state 31
    variable_lookup                shift and go to state 35

state 55

    (27) repeat_range -> numrange backtrack . MINUS of

    MINUS           shift and go to state 83


state 56

    (26) repeat_range -> numrange of .

    WHITESPACE      reduce using rule 26 (repeat_range -> numrange of .)
    COLON           reduce using rule 26 (repeat_range -> numrange of .)


state 57

    (36) optionalize -> QUESTMARK of .

    WHITESPACE      reduce using rule 36 (optionalize -> QUESTMARK of .)
    COLON           reduce using rule 36 (optionalize -> QUESTMARK of .)


state 58

    (31) of -> WHITESPACE . OF

    OF              shift and go to state 72


state 59

    (5) oprex -> NEWLINE INDENT root_expression . DEDENT

    DEDENT          shift and go to state 84


state 60

    (67) begin_subblock -> INDENT .

    GLOBALMARK      reduce using rule 67 (begin_subblock -> INDENT .)
    VARNAME         reduce using rule 67 (begin_subblock -> INDENT .)
    DOT             reduce using rule 67 (begin_subblock -> INDENT .)
    LT              reduce using rule 67 (begin_subblock -> INDENT .)


state 61

    (65) optional_subblock -> begin_subblock . definitions end_subblock
    (69) definitions -> . definition
    (70) definitions -> . definition definitions
    (71) definition -> . assignment
    (72) definition -> . GLOBALMARK assignment
    (73) assignment -> . declaration equals assignment
    (74) assignment -> . declaration equals expression
    (75) assignment -> . declaration COLON charclass optional_subblock
    (80) declaration -> . VARNAME
    (81) declaration -> . DOT VARNAME
    (82) declaration -> . LT VARNAME GT
    (83) declaration -> . DOT LT VARNAME GT

    GLOBALMARK      shift and go to state 87
    VARNAME         shift and go to state 88
    DOT             shift and go to state 92
    LT              shift and go to state 89

    definition                     shift and go to state 85
    declaration                    shift and go to state 86
    assignment                     shift and go to state 90
    definitions                    shift and go to state 91

state 62

    (10) expression -> expr optional_subblock .

    $end            reduce using rule 10 (expression -> expr optional_subblock .)
    DEDENT          reduce using rule 10 (expression -> expr optional_subblock .)
    GLOBALMARK      reduce using rule 10 (expression -> expr optional_subblock .)
    VARNAME         reduce using rule 10 (expression -> expr optional_subblock .)
    DOT             reduce using rule 10 (expression -> expr optional_subblock .)
    LT              reduce using rule 10 (expression -> expr optional_subblock .)


state 63

    (47) lookup -> lookup_type QUESTMARK .

    NEWLINE         reduce using rule 47 (lookup -> lookup_type QUESTMARK .)
    SLASH           reduce using rule 47 (lookup -> lookup_type QUESTMARK .)


state 64

    (54) backreference -> EQUALSIGN VARNAME .

    QUESTMARK       reduce using rule 54 (backreference -> EQUALSIGN VARNAME .)
    NEWLINE         reduce using rule 54 (backreference -> EQUALSIGN VARNAME .)
    SLASH           reduce using rule 54 (backreference -> EQUALSIGN VARNAME .)


state 65

    (38) scoped_flags -> LPAREN FLAGSET . RPAREN WHITESPACE

    RPAREN          shift and go to state 93


state 66

    (34) numrange -> DOT DOT NUMBER .

    WHITESPACE      reduce using rule 34 (numrange -> DOT DOT NUMBER .)


state 67

    (19) str_b -> UNDERSCORE .

    NEWLINE         reduce using rule 19 (str_b -> UNDERSCORE .)


state 68

    (18) str_b -> DOT .

    NEWLINE         reduce using rule 18 (str_b -> DOT .)


state 69

    (16) string_expr -> str_b STRING str_b . NEWLINE

    NEWLINE         shift and go to state 94


state 70

    (39) orblock_expr -> BEGIN_ORBLOCK NEWLINE or_items . END_OF_ORBLOCK

    END_OF_ORBLOCK  shift and go to state 95


state 71

    (40) or_items -> OR . expr
    (41) or_items -> OR . expr or_items
    (11) expr -> . string_expr
    (12) expr -> . lookup_expr
    (13) expr -> . orblock_expr
    (14) expr -> . flagged_expr
    (15) expr -> . quantified_expr
    (16) string_expr -> . str_b STRING str_b NEWLINE
    (42) lookup_expr -> . lookup NEWLINE
    (43) lookup_expr -> . SLASH lookup_chain NEWLINE
    (39) orblock_expr -> . BEGIN_ORBLOCK NEWLINE or_items END_OF_ORBLOCK
    (37) flagged_expr -> . scoped_flags expr
    (20) quantified_expr -> . quantifier WHITESPACE expr
    (21) quantified_expr -> . quantifier COLON charclass
    (17) str_b -> .
    (18) str_b -> . DOT
    (19) str_b -> . UNDERSCORE
    (46) lookup -> . lookup_type
    (47) lookup -> . lookup_type QUESTMARK
    (38) scoped_flags -> . LPAREN FLAGSET RPAREN WHITESPACE
    (22) quantifier -> . repeat_N_times
    (23) quantifier -> . repeat_range
    (24) quantifier -> . optionalize
    (48) lookup_type -> . variable_lookup
    (49) lookup_type -> . backreference
    (50) lookup_type -> . subroutine_call
    (25) repeat_N_times -> . NUMBER of
    (26) repeat_range -> . numrange of
    (27) repeat_range -> . numrange backtrack MINUS of
    (28) repeat_range -> . NUMBER backtrack PLUS DOT DOT of
    (29) repeat_range -> . NUMBER backtrack PLUS DOT DOT NUMBER of
    (36) optionalize -> . QUESTMARK of
    (51) variable_lookup -> . VARNAME
    (52) variable_lookup -> . UNDERSCORE
    (53) variable_lookup -> . DOT
    (54) backreference -> . EQUALSIGN VARNAME
    (55) subroutine_call -> . AMPERSAND VARNAME
    (32) numrange -> . DOT DOT
    (33) numrange -> . NUMBER DOT DOT
    (34) numrange -> . DOT DOT NUMBER
    (35) numrange -> . NUMBER DOT DOT NUMBER

    SLASH           shift and go to state 23
    BEGIN_ORBLOCK   shift and go to state 16
    STRING          reduce using rule 17 (str_b -> .)
    DOT             shift and go to state 12
    UNDERSCORE      shift and go to state 10
    LPAREN          shift and go to state 36
    NUMBER          shift and go to state 21
    QUESTMARK       shift and go to state 27
    VARNAME         shift and go to state 7
    EQUALSIGN       shift and go to state 34
    AMPERSAND       shift and go to state 22

    scoped_flags                   shift and go to state 19
    repeat_N_times                 shift and go to state 4
    flagged_expr                   shift and go to state 5
    repeat_range                   shift and go to state 8
    backreference                  shift and go to state 9
    lookup_expr                    shift and go to state 11
    optionalize                    shift and go to state 13
    string_expr                    shift and go to state 14
    str_b                          shift and go to state 15
    lookup                         shift and go to state 17
    subroutine_call                shift and go to state 18
    orblock_expr                   shift and go to state 20
    numrange                       shift and go to state 26
    quantifier                     shift and go to state 25
    quantified_expr                shift and go to state 28
    expr                           shift and go to state 96
    lookup_type                    shift and go to state 31
    variable_lookup                shift and go to state 35

state 72

    (31) of -> WHITESPACE OF .

    WHITESPACE      reduce using rule 31 (of -> WHITESPACE OF .)
    COLON           reduce using rule 31 (of -> WHITESPACE OF .)


state 73

    (30) backtrack -> WHITESPACE LT . LT

    LT              shift and go to state 97


state 74

    (28) repeat_range -> NUMBER backtrack PLUS . DOT DOT of
    (29) repeat_range -> NUMBER backtrack PLUS . DOT DOT NUMBER of

    DOT             shift and go to state 98


state 75

    (33) numrange -> NUMBER DOT DOT .
    (35) numrange -> NUMBER DOT DOT . NUMBER

    WHITESPACE      reduce using rule 33 (numrange -> NUMBER DOT DOT .)
    NUMBER          shift and go to state 99


state 76

    (44) lookup_chain -> lookup SLASH .
    (45) lookup_chain -> lookup SLASH . lookup_chain
    (44) lookup_chain -> . lookup SLASH
    (45) lookup_chain -> . lookup SLASH lookup_chain
    (46) lookup -> . lookup_type
    (47) lookup -> . lookup_type QUESTMARK
    (48) lookup_type -> . variable_lookup
    (49) lookup_type -> . backreference
    (50) lookup_type -> . subroutine_call
    (51) variable_lookup -> . VARNAME
    (52) variable_lookup -> . UNDERSCORE
    (53) variable_lookup -> . DOT
    (54) backreference -> . EQUALSIGN VARNAME
    (55) subroutine_call -> . AMPERSAND VARNAME

    NEWLINE         reduce using rule 44 (lookup_chain -> lookup SLASH .)
    VARNAME         shift and go to state 7
    UNDERSCORE      shift and go to state 48
    DOT             shift and go to state 50
    EQUALSIGN       shift and go to state 34
    AMPERSAND       shift and go to state 22

    lookup_type                    shift and go to state 31
    backreference                  shift and go to state 9
    lookup                         shift and go to state 49
    subroutine_call                shift and go to state 18
    lookup_chain                   shift and go to state 100
    variable_lookup                shift and go to state 35

state 77

    (43) lookup_expr -> SLASH lookup_chain NEWLINE .

    OR              reduce using rule 43 (lookup_expr -> SLASH lookup_chain NEWLINE .)
    END_OF_ORBLOCK  reduce using rule 43 (lookup_expr -> SLASH lookup_chain NEWLINE .)
    INDENT          reduce using rule 43 (lookup_expr -> SLASH lookup_chain NEWLINE .)
    DEDENT          reduce using rule 43 (lookup_expr -> SLASH lookup_chain NEWLINE .)
    GLOBALMARK      reduce using rule 43 (lookup_expr -> SLASH lookup_chain NEWLINE .)
    VARNAME         reduce using rule 43 (lookup_expr -> SLASH lookup_chain NEWLINE .)
    DOT             reduce using rule 43 (lookup_expr -> SLASH lookup_chain NEWLINE .)
    LT              reduce using rule 43 (lookup_expr -> SLASH lookup_chain NEWLINE .)
    $end            reduce using rule 43 (lookup_expr -> SLASH lookup_chain NEWLINE .)


state 78

    (9) global_flags -> LPAREN FLAGSET RPAREN . NEWLINE
    (38) scoped_flags -> LPAREN FLAGSET RPAREN . WHITESPACE

    NEWLINE         shift and go to state 101
    WHITESPACE      shift and go to state 102


state 79

    (57) charitems -> WHITESPACE . charitem
    (58) charitems -> WHITESPACE . charitem charitems
    (59) charitem -> . ranged_char
    (60) charitem -> . single_char
    (61) charitem -> . period_char
    (62) ranged_char -> . CHAR DOT DOT CHAR
    (64) single_char -> . CHAR
    (63) period_char -> . DOT

    CHAR            shift and go to state 108
    DOT             shift and go to state 107

    single_char                    shift and go to state 106
    charitem                       shift and go to state 104
    ranged_char                    shift and go to state 105
    period_char                    shift and go to state 103

state 80

    (21) quantified_expr -> quantifier COLON charclass .

    INDENT          reduce using rule 21 (quantified_expr -> quantifier COLON charclass .)
    $end            reduce using rule 21 (quantified_expr -> quantifier COLON charclass .)
    DEDENT          reduce using rule 21 (quantified_expr -> quantifier COLON charclass .)
    OR              reduce using rule 21 (quantified_expr -> quantifier COLON charclass .)
    END_OF_ORBLOCK  reduce using rule 21 (quantified_expr -> quantifier COLON charclass .)
    GLOBALMARK      reduce using rule 21 (quantified_expr -> quantifier COLON charclass .)
    VARNAME         reduce using rule 21 (quantified_expr -> quantifier COLON charclass .)
    DOT             reduce using rule 21 (quantified_expr -> quantifier COLON charclass .)
    LT              reduce using rule 21 (quantified_expr -> quantifier COLON charclass .)


state 81

    (56) charclass -> charitems . NEWLINE

    NEWLINE         shift and go to state 109


state 82

    (20) quantified_expr -> quantifier WHITESPACE expr .

    INDENT          reduce using rule 20 (quantified_expr -> quantifier WHITESPACE expr .)
    $end            reduce using rule 20 (quantified_expr -> quantifier WHITESPACE expr .)
    DEDENT          reduce using rule 20 (quantified_expr -> quantifier WHITESPACE expr .)
    OR              reduce using rule 20 (quantified_expr -> quantifier WHITESPACE expr .)
    END_OF_ORBLOCK  reduce using rule 20 (quantified_expr -> quantifier WHITESPACE expr .)
    GLOBALMARK      reduce using rule 20 (quantified_expr -> quantifier WHITESPACE expr .)
    VARNAME         reduce using rule 20 (quantified_expr -> quantifier WHITESPACE expr .)
    DOT             reduce using rule 20 (quantified_expr -> quantifier WHITESPACE expr .)
    LT              reduce using rule 20 (quantified_expr -> quantifier WHITESPACE expr .)


state 83

    (27) repeat_range -> numrange backtrack MINUS . of
    (31) of -> . WHITESPACE OF

    WHITESPACE      shift and go to state 58

    of                             shift and go to state 110

state 84

    (5) oprex -> NEWLINE INDENT root_expression DEDENT .

    $end            reduce using rule 5 (oprex -> NEWLINE INDENT root_expression DEDENT .)


state 85

    (69) definitions -> definition .
    (70) definitions -> definition . definitions
    (69) definitions -> . definition
    (70) definitions -> . definition definitions
    (71) definition -> . assignment
    (72) definition -> . GLOBALMARK assignment
    (73) assignment -> . declaration equals assignment
    (74) assignment -> . declaration equals expression
    (75) assignment -> . declaration COLON charclass optional_subblock
    (80) declaration -> . VARNAME
    (81) declaration -> . DOT VARNAME
    (82) declaration -> . LT VARNAME GT
    (83) declaration -> . DOT LT VARNAME GT

    DEDENT          reduce using rule 69 (definitions -> definition .)
    GLOBALMARK      shift and go to state 87
    VARNAME         shift and go to state 88
    DOT             shift and go to state 92
    LT              shift and go to state 89

    definition                     shift and go to state 85
    assignment                     shift and go to state 90
    declaration                    shift and go to state 86
    definitions                    shift and go to state 111

state 86

    (73) assignment -> declaration . equals assignment
    (74) assignment -> declaration . equals expression
    (75) assignment -> declaration . COLON charclass optional_subblock
    (76) equals -> . EQUALSIGN
    (77) equals -> . WHITESPACE EQUALSIGN
    (78) equals -> . EQUALSIGN WHITESPACE
    (79) equals -> . WHITESPACE EQUALSIGN WHITESPACE

    COLON           shift and go to state 114
    EQUALSIGN       shift and go to state 115
    WHITESPACE      shift and go to state 112

    equals                         shift and go to state 113

state 87

    (72) definition -> GLOBALMARK . assignment
    (73) assignment -> . declaration equals assignment
    (74) assignment -> . declaration equals expression
    (75) assignment -> . declaration COLON charclass optional_subblock
    (80) declaration -> . VARNAME
    (81) declaration -> . DOT VARNAME
    (82) declaration -> . LT VARNAME GT
    (83) declaration -> . DOT LT VARNAME GT

    VARNAME         shift and go to state 88
    DOT             shift and go to state 92
    LT              shift and go to state 89

    assignment                     shift and go to state 116
    declaration                    shift and go to state 86

state 88

    (80) declaration -> VARNAME .

    COLON           reduce using rule 80 (declaration -> VARNAME .)
    EQUALSIGN       reduce using rule 80 (declaration -> VARNAME .)
    WHITESPACE      reduce using rule 80 (declaration -> VARNAME .)


state 89

    (82) declaration -> LT . VARNAME GT

    VARNAME         shift and go to state 117


state 90

    (71) definition -> assignment .

    GLOBALMARK      reduce using rule 71 (definition -> assignment .)
    VARNAME         reduce using rule 71 (definition -> assignment .)
    DOT             reduce using rule 71 (definition -> assignment .)
    LT              reduce using rule 71 (definition -> assignment .)
    DEDENT          reduce using rule 71 (definition -> assignment .)


state 91

    (65) optional_subblock -> begin_subblock definitions . end_subblock
    (68) end_subblock -> . DEDENT

    DEDENT          shift and go to state 118

    end_subblock                   shift and go to state 119

state 92

    (81) declaration -> DOT . VARNAME
    (83) declaration -> DOT . LT VARNAME GT

    VARNAME         shift and go to state 120
    LT              shift and go to state 121


state 93

    (38) scoped_flags -> LPAREN FLAGSET RPAREN . WHITESPACE

    WHITESPACE      shift and go to state 102


state 94

    (16) string_expr -> str_b STRING str_b NEWLINE .

    OR              reduce using rule 16 (string_expr -> str_b STRING str_b NEWLINE .)
    END_OF_ORBLOCK  reduce using rule 16 (string_expr -> str_b STRING str_b NEWLINE .)
    INDENT          reduce using rule 16 (string_expr -> str_b STRING str_b NEWLINE .)
    $end            reduce using rule 16 (string_expr -> str_b STRING str_b NEWLINE .)
    DEDENT          reduce using rule 16 (string_expr -> str_b STRING str_b NEWLINE .)
    GLOBALMARK      reduce using rule 16 (string_expr -> str_b STRING str_b NEWLINE .)
    VARNAME         reduce using rule 16 (string_expr -> str_b STRING str_b NEWLINE .)
    DOT             reduce using rule 16 (string_expr -> str_b STRING str_b NEWLINE .)
    LT              reduce using rule 16 (string_expr -> str_b STRING str_b NEWLINE .)


state 95

    (39) orblock_expr -> BEGIN_ORBLOCK NEWLINE or_items END_OF_ORBLOCK .

    INDENT          reduce using rule 39 (orblock_expr -> BEGIN_ORBLOCK NEWLINE or_items END_OF_ORBLOCK .)
    $end            reduce using rule 39 (orblock_expr -> BEGIN_ORBLOCK NEWLINE or_items END_OF_ORBLOCK .)
    DEDENT          reduce using rule 39 (orblock_expr -> BEGIN_ORBLOCK NEWLINE or_items END_OF_ORBLOCK .)
    OR              reduce using rule 39 (orblock_expr -> BEGIN_ORBLOCK NEWLINE or_items END_OF_ORBLOCK .)
    END_OF_ORBLOCK  reduce using rule 39 (orblock_expr -> BEGIN_ORBLOCK NEWLINE or_items END_OF_ORBLOCK .)
    GLOBALMARK      reduce using rule 39 (orblock_expr -> BEGIN_ORBLOCK NEWLINE or_items END_OF_ORBLOCK .)
    VARNAME         reduce using rule 39 (orblock_expr -> BEGIN_ORBLOCK NEWLINE or_items END_OF_ORBLOCK .)
    DOT             reduce using rule 39 (orblock_expr -> BEGIN_ORBLOCK NEWLINE or_items END_OF_ORBLOCK .)
    LT              reduce using rule 39 (orblock_expr -> BEGIN_ORBLOCK NEWLINE or_items END_OF_ORBLOCK .)


state 96

    (40) or_items -> OR expr .
    (41) or_items -> OR expr . or_items
    (40) or_items -> . OR expr
    (41) or_items -> . OR expr or_items

    END_OF_ORBLOCK  reduce using rule 40 (or_items -> OR expr .)
    OR              shift and go to state 71

    or_items                       shift and go to state 122

state 97

    (30) backtrack -> WHITESPACE LT LT .

    MINUS           reduce using rule 30 (backtrack -> WHITESPACE LT LT .)
    PLUS            reduce using rule 30 (backtrack -> WHITESPACE LT LT .)


state 98

    (28) repeat_range -> NUMBER backtrack PLUS DOT . DOT of
    (29) repeat_range -> NUMBER backtrack PLUS DOT . DOT NUMBER of

    DOT             shift and go to state 123


state 99

    (35) numrange -> NUMBER DOT DOT NUMBER .

    WHITESPACE      reduce using rule 35 (numrange -> NUMBER DOT DOT NUMBER .)


state 100

    (45) lookup_chain -> lookup SLASH lookup_chain .

    NEWLINE         reduce using rule 45 (lookup_chain -> lookup SLASH lookup_chain .)


state 101

    (9) global_flags -> LPAREN FLAGSET RPAREN NEWLINE .

    SLASH           reduce using rule 9 (global_flags -> LPAREN FLAGSET RPAREN NEWLINE .)
    BEGIN_ORBLOCK   reduce using rule 9 (global_flags -> LPAREN FLAGSET RPAREN NEWLINE .)
    DOT             reduce using rule 9 (global_flags -> LPAREN FLAGSET RPAREN NEWLINE .)
    UNDERSCORE      reduce using rule 9 (global_flags -> LPAREN FLAGSET RPAREN NEWLINE .)
    LPAREN          reduce using rule 9 (global_flags -> LPAREN FLAGSET RPAREN NEWLINE .)
    NUMBER          reduce using rule 9 (global_flags -> LPAREN FLAGSET RPAREN NEWLINE .)
    QUESTMARK       reduce using rule 9 (global_flags -> LPAREN FLAGSET RPAREN NEWLINE .)
    VARNAME         reduce using rule 9 (global_flags -> LPAREN FLAGSET RPAREN NEWLINE .)
    EQUALSIGN       reduce using rule 9 (global_flags -> LPAREN FLAGSET RPAREN NEWLINE .)
    AMPERSAND       reduce using rule 9 (global_flags -> LPAREN FLAGSET RPAREN NEWLINE .)
    STRING          reduce using rule 9 (global_flags -> LPAREN FLAGSET RPAREN NEWLINE .)
    $end            reduce using rule 9 (global_flags -> LPAREN FLAGSET RPAREN NEWLINE .)
    DEDENT          reduce using rule 9 (global_flags -> LPAREN FLAGSET RPAREN NEWLINE .)


state 102

    (38) scoped_flags -> LPAREN FLAGSET RPAREN WHITESPACE .

    SLASH           reduce using rule 38 (scoped_flags -> LPAREN FLAGSET RPAREN WHITESPACE .)
    BEGIN_ORBLOCK   reduce using rule 38 (scoped_flags -> LPAREN FLAGSET RPAREN WHITESPACE .)
    DOT             reduce using rule 38 (scoped_flags -> LPAREN FLAGSET RPAREN WHITESPACE .)
    UNDERSCORE      reduce using rule 38 (scoped_flags -> LPAREN FLAGSET RPAREN WHITESPACE .)
    LPAREN          reduce using rule 38 (scoped_flags -> LPAREN FLAGSET RPAREN WHITESPACE .)
    NUMBER          reduce using rule 38 (scoped_flags -> LPAREN FLAGSET RPAREN WHITESPACE .)
    QUESTMARK       reduce using rule 38 (scoped_flags -> LPAREN FLAGSET RPAREN WHITESPACE .)
    VARNAME         reduce using rule 38 (scoped_flags -> LPAREN FLAGSET RPAREN WHITESPACE .)
    EQUALSIGN       reduce using rule 38 (scoped_flags -> LPAREN FLAGSET RPAREN WHITESPACE .)
    AMPERSAND       reduce using rule 38 (scoped_flags -> LPAREN FLAGSET RPAREN WHITESPACE .)
    STRING          reduce using rule 38 (scoped_flags -> LPAREN FLAGSET RPAREN WHITESPACE .)


state 103

    (61) charitem -> period_char .

    WHITESPACE      reduce using rule 61 (charitem -> period_char .)
    NEWLINE         reduce using rule 61 (charitem -> period_char .)


state 104

    (57) charitems -> WHITESPACE charitem .
    (58) charitems -> WHITESPACE charitem . charitems
    (57) charitems -> . WHITESPACE charitem
    (58) charitems -> . WHITESPACE charitem charitems

    NEWLINE         reduce using rule 57 (charitems -> WHITESPACE charitem .)
    WHITESPACE      shift and go to state 79

    charitems                      shift and go to state 124

state 105

    (59) charitem -> ranged_char .

    WHITESPACE      reduce using rule 59 (charitem -> ranged_char .)
    NEWLINE         reduce using rule 59 (charitem -> ranged_char .)


state 106

    (60) charitem -> single_char .

    WHITESPACE      reduce using rule 60 (charitem -> single_char .)
    NEWLINE         reduce using rule 60 (charitem -> single_char .)


state 107

    (63) period_char -> DOT .

    WHITESPACE      reduce using rule 63 (period_char -> DOT .)
    NEWLINE         reduce using rule 63 (period_char -> DOT .)


state 108

    (62) ranged_char -> CHAR . DOT DOT CHAR
    (64) single_char -> CHAR .

    DOT             shift and go to state 125
    WHITESPACE      reduce using rule 64 (single_char -> CHAR .)
    NEWLINE         reduce using rule 64 (single_char -> CHAR .)


state 109

    (56) charclass -> charitems NEWLINE .

    INDENT          reduce using rule 56 (charclass -> charitems NEWLINE .)
    $end            reduce using rule 56 (charclass -> charitems NEWLINE .)
    DEDENT          reduce using rule 56 (charclass -> charitems NEWLINE .)
    OR              reduce using rule 56 (charclass -> charitems NEWLINE .)
    END_OF_ORBLOCK  reduce using rule 56 (charclass -> charitems NEWLINE .)
    GLOBALMARK      reduce using rule 56 (charclass -> charitems NEWLINE .)
    VARNAME         reduce using rule 56 (charclass -> charitems NEWLINE .)
    DOT             reduce using rule 56 (charclass -> charitems NEWLINE .)
    LT              reduce using rule 56 (charclass -> charitems NEWLINE .)


state 110

    (27) repeat_range -> numrange backtrack MINUS of .

    WHITESPACE      reduce using rule 27 (repeat_range -> numrange backtrack MINUS of .)
    COLON           reduce using rule 27 (repeat_range -> numrange backtrack MINUS of .)


state 111

    (70) definitions -> definition definitions .

    DEDENT          reduce using rule 70 (definitions -> definition definitions .)


state 112

    (77) equals -> WHITESPACE . EQUALSIGN
    (79) equals -> WHITESPACE . EQUALSIGN WHITESPACE

    EQUALSIGN       shift and go to state 126


state 113

    (73) assignment -> declaration equals . assignment
    (74) assignment -> declaration equals . expression
    (73) assignment -> . declaration equals assignment
    (74) assignment -> . declaration equals expression
    (75) assignment -> . declaration COLON charclass optional_subblock
    (10) expression -> . expr optional_subblock
    (80) declaration -> . VARNAME
    (81) declaration -> . DOT VARNAME
    (82) declaration -> . LT VARNAME GT
    (83) declaration -> . DOT LT VARNAME GT
    (11) expr -> . string_expr
    (12) expr -> . lookup_expr
    (13) expr -> . orblock_expr
    (14) expr -> . flagged_expr
    (15) expr -> . quantified_expr
    (16) string_expr -> . str_b STRING str_b NEWLINE
    (42) lookup_expr -> . lookup NEWLINE
    (43) lookup_expr -> . SLASH lookup_chain NEWLINE
    (39) orblock_expr -> . BEGIN_ORBLOCK NEWLINE or_items END_OF_ORBLOCK
    (37) flagged_expr -> . scoped_flags expr
    (20) quantified_expr -> . quantifier WHITESPACE expr
    (21) quantified_expr -> . quantifier COLON charclass
    (17) str_b -> .
    (18) str_b -> . DOT
    (19) str_b -> . UNDERSCORE
    (46) lookup -> . lookup_type
    (47) lookup -> . lookup_type QUESTMARK
    (38) scoped_flags -> . LPAREN FLAGSET RPAREN WHITESPACE
    (22) quantifier -> . repeat_N_times
    (23) quantifier -> . repeat_range
    (24) quantifier -> . optionalize
    (48) lookup_type -> . variable_lookup
    (49) lookup_type -> . backreference
    (50) lookup_type -> . subroutine_call
    (25) repeat_N_times -> . NUMBER of
    (26) repeat_range -> . numrange of
    (27) repeat_range -> . numrange backtrack MINUS of
    (28) repeat_range -> . NUMBER backtrack PLUS DOT DOT of
    (29) repeat_range -> . NUMBER backtrack PLUS DOT DOT NUMBER of
    (36) optionalize -> . QUESTMARK of
    (51) variable_lookup -> . VARNAME
    (52) variable_lookup -> . UNDERSCORE
    (53) variable_lookup -> . DOT
    (54) backreference -> . EQUALSIGN VARNAME
    (55) subroutine_call -> . AMPERSAND VARNAME
    (32) numrange -> . DOT DOT
    (33) numrange -> . NUMBER DOT DOT
    (34) numrange -> . DOT DOT NUMBER
    (35) numrange -> . NUMBER DOT DOT NUMBER

    VARNAME         shift and go to state 127
    DOT             shift and go to state 128
    LT              shift and go to state 89
    SLASH           shift and go to state 23
    BEGIN_ORBLOCK   shift and go to state 16
    STRING          reduce using rule 17 (str_b -> .)
    UNDERSCORE      shift and go to state 10
    LPAREN          shift and go to state 36
    NUMBER          shift and go to state 21
    QUESTMARK       shift and go to state 27
    EQUALSIGN       shift and go to state 34
    AMPERSAND       shift and go to state 22

    scoped_flags                   shift and go to state 19
    repeat_N_times                 shift and go to state 4
    flagged_expr                   shift and go to state 5
    repeat_range                   shift and go to state 8
    backreference                  shift and go to state 9
    lookup_expr                    shift and go to state 11
    optionalize                    shift and go to state 13
    str_b                          shift and go to state 15
    lookup                         shift and go to state 17
    subroutine_call                shift and go to state 18
    orblock_expr                   shift and go to state 20
    assignment                     shift and go to state 129
    numrange                       shift and go to state 26
    declaration                    shift and go to state 86
    quantifier                     shift and go to state 25
    quantified_expr                shift and go to state 28
    expr                           shift and go to state 30
    lookup_type                    shift and go to state 31
    expression                     shift and go to state 130
    string_expr                    shift and go to state 14
    variable_lookup                shift and go to state 35

state 114

    (75) assignment -> declaration COLON . charclass optional_subblock
    (56) charclass -> . charitems NEWLINE
    (57) charitems -> . WHITESPACE charitem
    (58) charitems -> . WHITESPACE charitem charitems

    WHITESPACE      shift and go to state 79

    charitems                      shift and go to state 81
    charclass                      shift and go to state 131

state 115

    (76) equals -> EQUALSIGN .
    (78) equals -> EQUALSIGN . WHITESPACE

    VARNAME         reduce using rule 76 (equals -> EQUALSIGN .)
    DOT             reduce using rule 76 (equals -> EQUALSIGN .)
    LT              reduce using rule 76 (equals -> EQUALSIGN .)
    SLASH           reduce using rule 76 (equals -> EQUALSIGN .)
    BEGIN_ORBLOCK   reduce using rule 76 (equals -> EQUALSIGN .)
    UNDERSCORE      reduce using rule 76 (equals -> EQUALSIGN .)
    LPAREN          reduce using rule 76 (equals -> EQUALSIGN .)
    NUMBER          reduce using rule 76 (equals -> EQUALSIGN .)
    QUESTMARK       reduce using rule 76 (equals -> EQUALSIGN .)
    EQUALSIGN       reduce using rule 76 (equals -> EQUALSIGN .)
    AMPERSAND       reduce using rule 76 (equals -> EQUALSIGN .)
    STRING          reduce using rule 76 (equals -> EQUALSIGN .)
    WHITESPACE      shift and go to state 132


state 116

    (72) definition -> GLOBALMARK assignment .

    GLOBALMARK      reduce using rule 72 (definition -> GLOBALMARK assignment .)
    VARNAME         reduce using rule 72 (definition -> GLOBALMARK assignment .)
    DOT             reduce using rule 72 (definition -> GLOBALMARK assignment .)
    LT              reduce using rule 72 (definition -> GLOBALMARK assignment .)
    DEDENT          reduce using rule 72 (definition -> GLOBALMARK assignment .)


state 117

    (82) declaration -> LT VARNAME . GT

    GT              shift and go to state 133


state 118

    (68) end_subblock -> DEDENT .

    $end            reduce using rule 68 (end_subblock -> DEDENT .)
    DEDENT          reduce using rule 68 (end_subblock -> DEDENT .)
    GLOBALMARK      reduce using rule 68 (end_subblock -> DEDENT .)
    VARNAME         reduce using rule 68 (end_subblock -> DEDENT .)
    DOT             reduce using rule 68 (end_subblock -> DEDENT .)
    LT              reduce using rule 68 (end_subblock -> DEDENT .)


state 119

    (65) optional_subblock -> begin_subblock definitions end_subblock .

    $end            reduce using rule 65 (optional_subblock -> begin_subblock definitions end_subblock .)
    DEDENT          reduce using rule 65 (optional_subblock -> begin_subblock definitions end_subblock .)
    GLOBALMARK      reduce using rule 65 (optional_subblock -> begin_subblock definitions end_subblock .)
    VARNAME         reduce using rule 65 (optional_subblock -> begin_subblock definitions end_subblock .)
    DOT             reduce using rule 65 (optional_subblock -> begin_subblock definitions end_subblock .)
    LT              reduce using rule 65 (optional_subblock -> begin_subblock definitions end_subblock .)


state 120

    (81) declaration -> DOT VARNAME .

    COLON           reduce using rule 81 (declaration -> DOT VARNAME .)
    EQUALSIGN       reduce using rule 81 (declaration -> DOT VARNAME .)
    WHITESPACE      reduce using rule 81 (declaration -> DOT VARNAME .)


state 121

    (83) declaration -> DOT LT . VARNAME GT

    VARNAME         shift and go to state 134


state 122

    (41) or_items -> OR expr or_items .

    END_OF_ORBLOCK  reduce using rule 41 (or_items -> OR expr or_items .)


state 123

    (28) repeat_range -> NUMBER backtrack PLUS DOT DOT . of
    (29) repeat_range -> NUMBER backtrack PLUS DOT DOT . NUMBER of
    (31) of -> . WHITESPACE OF

    NUMBER          shift and go to state 136
    WHITESPACE      shift and go to state 58

    of                             shift and go to state 135

state 124

    (58) charitems -> WHITESPACE charitem charitems .

    NEWLINE         reduce using rule 58 (charitems -> WHITESPACE charitem charitems .)


state 125

    (62) ranged_char -> CHAR DOT . DOT CHAR

    DOT             shift and go to state 137


state 126

    (77) equals -> WHITESPACE EQUALSIGN .
    (79) equals -> WHITESPACE EQUALSIGN . WHITESPACE

    VARNAME         reduce using rule 77 (equals -> WHITESPACE EQUALSIGN .)
    DOT             reduce using rule 77 (equals -> WHITESPACE EQUALSIGN .)
    LT              reduce using rule 77 (equals -> WHITESPACE EQUALSIGN .)
    SLASH           reduce using rule 77 (equals -> WHITESPACE EQUALSIGN .)
    BEGIN_ORBLOCK   reduce using rule 77 (equals -> WHITESPACE EQUALSIGN .)
    UNDERSCORE      reduce using rule 77 (equals -> WHITESPACE EQUALSIGN .)
    LPAREN          reduce using rule 77 (equals -> WHITESPACE EQUALSIGN .)
    NUMBER          reduce using rule 77 (equals -> WHITESPACE EQUALSIGN .)
    QUESTMARK       reduce using rule 77 (equals -> WHITESPACE EQUALSIGN .)
    EQUALSIGN       reduce using rule 77 (equals -> WHITESPACE EQUALSIGN .)
    AMPERSAND       reduce using rule 77 (equals -> WHITESPACE EQUALSIGN .)
    STRING          reduce using rule 77 (equals -> WHITESPACE EQUALSIGN .)
    WHITESPACE      shift and go to state 138


state 127

    (80) declaration -> VARNAME .
    (51) variable_lookup -> VARNAME .

    COLON           reduce using rule 80 (declaration -> VARNAME .)
    EQUALSIGN       reduce using rule 80 (declaration -> VARNAME .)
    WHITESPACE      reduce using rule 80 (declaration -> VARNAME .)
    QUESTMARK       reduce using rule 51 (variable_lookup -> VARNAME .)
    NEWLINE         reduce using rule 51 (variable_lookup -> VARNAME .)


state 128

    (81) declaration -> DOT . VARNAME
    (83) declaration -> DOT . LT VARNAME GT
    (18) str_b -> DOT .
    (53) variable_lookup -> DOT .
    (32) numrange -> DOT . DOT
    (34) numrange -> DOT . DOT NUMBER

    VARNAME         shift and go to state 120
    LT              shift and go to state 121
    STRING          reduce using rule 18 (str_b -> DOT .)
    QUESTMARK       reduce using rule 53 (variable_lookup -> DOT .)
    NEWLINE         reduce using rule 53 (variable_lookup -> DOT .)
    DOT             shift and go to state 38


state 129

    (73) assignment -> declaration equals assignment .

    GLOBALMARK      reduce using rule 73 (assignment -> declaration equals assignment .)
    VARNAME         reduce using rule 73 (assignment -> declaration equals assignment .)
    DOT             reduce using rule 73 (assignment -> declaration equals assignment .)
    LT              reduce using rule 73 (assignment -> declaration equals assignment .)
    DEDENT          reduce using rule 73 (assignment -> declaration equals assignment .)


state 130

    (74) assignment -> declaration equals expression .

    GLOBALMARK      reduce using rule 74 (assignment -> declaration equals expression .)
    VARNAME         reduce using rule 74 (assignment -> declaration equals expression .)
    DOT             reduce using rule 74 (assignment -> declaration equals expression .)
    LT              reduce using rule 74 (assignment -> declaration equals expression .)
    DEDENT          reduce using rule 74 (assignment -> declaration equals expression .)


state 131

    (75) assignment -> declaration COLON charclass . optional_subblock
    (65) optional_subblock -> . begin_subblock definitions end_subblock
    (66) optional_subblock -> .
    (67) begin_subblock -> . INDENT

    GLOBALMARK      reduce using rule 66 (optional_subblock -> .)
    VARNAME         reduce using rule 66 (optional_subblock -> .)
    DOT             reduce using rule 66 (optional_subblock -> .)
    LT              reduce using rule 66 (optional_subblock -> .)
    DEDENT          reduce using rule 66 (optional_subblock -> .)
    INDENT          shift and go to state 60

    begin_subblock                 shift and go to state 61
    optional_subblock              shift and go to state 139

state 132

    (78) equals -> EQUALSIGN WHITESPACE .

    VARNAME         reduce using rule 78 (equals -> EQUALSIGN WHITESPACE .)
    DOT             reduce using rule 78 (equals -> EQUALSIGN WHITESPACE .)
    LT              reduce using rule 78 (equals -> EQUALSIGN WHITESPACE .)
    SLASH           reduce using rule 78 (equals -> EQUALSIGN WHITESPACE .)
    BEGIN_ORBLOCK   reduce using rule 78 (equals -> EQUALSIGN WHITESPACE .)
    UNDERSCORE      reduce using rule 78 (equals -> EQUALSIGN WHITESPACE .)
    LPAREN          reduce using rule 78 (equals -> EQUALSIGN WHITESPACE .)
    NUMBER          reduce using rule 78 (equals -> EQUALSIGN WHITESPACE .)
    QUESTMARK       reduce using rule 78 (equals -> EQUALSIGN WHITESPACE .)
    EQUALSIGN       reduce using rule 78 (equals -> EQUALSIGN WHITESPACE .)
    AMPERSAND       reduce using rule 78 (equals -> EQUALSIGN WHITESPACE .)
    STRING          reduce using rule 78 (equals -> EQUALSIGN WHITESPACE .)


state 133

    (82) declaration -> LT VARNAME GT .

    COLON           reduce using rule 82 (declaration -> LT VARNAME GT .)
    EQUALSIGN       reduce using rule 82 (declaration -> LT VARNAME GT .)
    WHITESPACE      reduce using rule 82 (declaration -> LT VARNAME GT .)


state 134

    (83) declaration -> DOT LT VARNAME . GT

    GT              shift and go to state 140


state 135

    (28) repeat_range -> NUMBER backtrack PLUS DOT DOT of .

    WHITESPACE      reduce using rule 28 (repeat_range -> NUMBER backtrack PLUS DOT DOT of .)
    COLON           reduce using rule 28 (repeat_range -> NUMBER backtrack PLUS DOT DOT of .)


state 136

    (29) repeat_range -> NUMBER backtrack PLUS DOT DOT NUMBER . of
    (31) of -> . WHITESPACE OF

    WHITESPACE      shift and go to state 58

    of                             shift and go to state 141

state 137

    (62) ranged_char -> CHAR DOT DOT . CHAR

    CHAR            shift and go to state 142


state 138

    (79) equals -> WHITESPACE EQUALSIGN WHITESPACE .

    VARNAME         reduce using rule 79 (equals -> WHITESPACE EQUALSIGN WHITESPACE .)
    DOT             reduce using rule 79 (equals -> WHITESPACE EQUALSIGN WHITESPACE .)
    LT              reduce using rule 79 (equals -> WHITESPACE EQUALSIGN WHITESPACE .)
    SLASH           reduce using rule 79 (equals -> WHITESPACE EQUALSIGN WHITESPACE .)
    BEGIN_ORBLOCK   reduce using rule 79 (equals -> WHITESPACE EQUALSIGN WHITESPACE .)
    UNDERSCORE      reduce using rule 79 (equals -> WHITESPACE EQUALSIGN WHITESPACE .)
    LPAREN          reduce using rule 79 (equals -> WHITESPACE EQUALSIGN WHITESPACE .)
    NUMBER          reduce using rule 79 (equals -> WHITESPACE EQUALSIGN WHITESPACE .)
    QUESTMARK       reduce using rule 79 (equals -> WHITESPACE EQUALSIGN WHITESPACE .)
    EQUALSIGN       reduce using rule 79 (equals -> WHITESPACE EQUALSIGN WHITESPACE .)
    AMPERSAND       reduce using rule 79 (equals -> WHITESPACE EQUALSIGN WHITESPACE .)
    STRING          reduce using rule 79 (equals -> WHITESPACE EQUALSIGN WHITESPACE .)


state 139

    (75) assignment -> declaration COLON charclass optional_subblock .

    GLOBALMARK      reduce using rule 75 (assignment -> declaration COLON charclass optional_subblock .)
    VARNAME         reduce using rule 75 (assignment -> declaration COLON charclass optional_subblock .)
    DOT             reduce using rule 75 (assignment -> declaration COLON charclass optional_subblock .)
    LT              reduce using rule 75 (assignment -> declaration COLON charclass optional_subblock .)
    DEDENT          reduce using rule 75 (assignment -> declaration COLON charclass optional_subblock .)


state 140

    (83) declaration -> DOT LT VARNAME GT .

    COLON           reduce using rule 83 (declaration -> DOT LT VARNAME GT .)
    EQUALSIGN       reduce using rule 83 (declaration -> DOT LT VARNAME GT .)
    WHITESPACE      reduce using rule 83 (declaration -> DOT LT VARNAME GT .)


state 141

    (29) repeat_range -> NUMBER backtrack PLUS DOT DOT NUMBER of .

    WHITESPACE      reduce using rule 29 (repeat_range -> NUMBER backtrack PLUS DOT DOT NUMBER of .)
    COLON           reduce using rule 29 (repeat_range -> NUMBER backtrack PLUS DOT DOT NUMBER of .)


state 142

    (62) ranged_char -> CHAR DOT DOT CHAR .

    WHITESPACE      reduce using rule 62 (ranged_char -> CHAR DOT DOT CHAR .)
    NEWLINE         reduce using rule 62 (ranged_char -> CHAR DOT DOT CHAR .)

