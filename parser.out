Created by PLY version 3.4 (http://www.dabeaz.com/ply)

Grammar

Rule 0     S' -> oprex
Rule 1     oprex -> <empty>
Rule 2     oprex -> WHITESPACE
Rule 3     oprex -> NEWLINE
Rule 4     oprex -> NEWLINE expression
Rule 5     oprex -> NEWLINE BEGINSCOPE expression ENDSCOPE
Rule 6     expression -> VARNAME NEWLINE
Rule 7     expression -> VARNAME NEWLINE beginscope definitions ENDSCOPE
Rule 8     expression -> SLASH cell moreCells NEWLINE
Rule 9     expression -> SLASH cell moreCells NEWLINE beginscope definitions ENDSCOPE
Rule 10    beginscope -> BEGINSCOPE
Rule 11    cell -> VARNAME SLASH
Rule 12    cell -> VARNAME QUESTMARK SLASH
Rule 13    cell -> OPENPAREN VARNAME CLOSEPAREN SLASH
Rule 14    cell -> OPENPAREN VARNAME CLOSEPAREN QUESTMARK SLASH
Rule 15    cell -> OPENPAREN VARNAME QUESTMARK CLOSEPAREN SLASH
Rule 16    moreCells -> <empty>
Rule 17    moreCells -> cell moreCells
Rule 18    definitions -> <empty>
Rule 19    definitions -> definition definitions
Rule 20    definition -> vardecl EQUALSIGN definition
Rule 21    definition -> vardecl EQUALSIGN expression
Rule 22    definition -> vardecl EQUALSIGN LITERAL NEWLINE
Rule 23    definition -> vardecl COLON CHARCLASS NEWLINE
Rule 24    vardecl -> VARNAME
Rule 25    vardecl -> GLOBALMARK VARNAME

Terminals, with rules where they appear

BEGINSCOPE           : 5 10
CHARCLASS            : 23
CLOSEPAREN           : 13 14 15
COLON                : 23
ENDSCOPE             : 5 7 9
EQUALSIGN            : 20 21 22
GLOBALMARK           : 25
LITERAL              : 22
NEWLINE              : 3 4 5 6 7 8 9 22 23
OPENPAREN            : 13 14 15
QUESTMARK            : 12 14 15
SLASH                : 8 9 11 12 13 14 15
VARNAME              : 6 7 11 12 13 14 15 24 25
WHITESPACE           : 2
error                : 

Nonterminals, with rules where they appear

beginscope           : 7 9
cell                 : 8 9 17
definition           : 19 20
definitions          : 7 9 19
expression           : 4 5 21
moreCells            : 8 9 17
oprex                : 0
vardecl              : 20 21 22 23

Parsing method: LALR

state 0

    (0) S' -> . oprex
    (1) oprex -> .
    (2) oprex -> . WHITESPACE
    (3) oprex -> . NEWLINE
    (4) oprex -> . NEWLINE expression
    (5) oprex -> . NEWLINE BEGINSCOPE expression ENDSCOPE

    $end            reduce using rule 1 (oprex -> .)
    WHITESPACE      shift and go to state 1
    NEWLINE         shift and go to state 2

    oprex                          shift and go to state 3

state 1

    (2) oprex -> WHITESPACE .

    $end            reduce using rule 2 (oprex -> WHITESPACE .)


state 2

    (3) oprex -> NEWLINE .
    (4) oprex -> NEWLINE . expression
    (5) oprex -> NEWLINE . BEGINSCOPE expression ENDSCOPE
    (6) expression -> . VARNAME NEWLINE
    (7) expression -> . VARNAME NEWLINE beginscope definitions ENDSCOPE
    (8) expression -> . SLASH cell moreCells NEWLINE
    (9) expression -> . SLASH cell moreCells NEWLINE beginscope definitions ENDSCOPE

    $end            reduce using rule 3 (oprex -> NEWLINE .)
    BEGINSCOPE      shift and go to state 4
    VARNAME         shift and go to state 5
    SLASH           shift and go to state 6

    expression                     shift and go to state 7

state 3

    (0) S' -> oprex .



state 4

    (5) oprex -> NEWLINE BEGINSCOPE . expression ENDSCOPE
    (6) expression -> . VARNAME NEWLINE
    (7) expression -> . VARNAME NEWLINE beginscope definitions ENDSCOPE
    (8) expression -> . SLASH cell moreCells NEWLINE
    (9) expression -> . SLASH cell moreCells NEWLINE beginscope definitions ENDSCOPE

    VARNAME         shift and go to state 5
    SLASH           shift and go to state 6

    expression                     shift and go to state 8

state 5

    (6) expression -> VARNAME . NEWLINE
    (7) expression -> VARNAME . NEWLINE beginscope definitions ENDSCOPE

    NEWLINE         shift and go to state 9


state 6

    (8) expression -> SLASH . cell moreCells NEWLINE
    (9) expression -> SLASH . cell moreCells NEWLINE beginscope definitions ENDSCOPE
    (11) cell -> . VARNAME SLASH
    (12) cell -> . VARNAME QUESTMARK SLASH
    (13) cell -> . OPENPAREN VARNAME CLOSEPAREN SLASH
    (14) cell -> . OPENPAREN VARNAME CLOSEPAREN QUESTMARK SLASH
    (15) cell -> . OPENPAREN VARNAME QUESTMARK CLOSEPAREN SLASH

    VARNAME         shift and go to state 10
    OPENPAREN       shift and go to state 12

    cell                           shift and go to state 11

state 7

    (4) oprex -> NEWLINE expression .

    $end            reduce using rule 4 (oprex -> NEWLINE expression .)


state 8

    (5) oprex -> NEWLINE BEGINSCOPE expression . ENDSCOPE

    ENDSCOPE        shift and go to state 13


state 9

    (6) expression -> VARNAME NEWLINE .
    (7) expression -> VARNAME NEWLINE . beginscope definitions ENDSCOPE
    (10) beginscope -> . BEGINSCOPE

    $end            reduce using rule 6 (expression -> VARNAME NEWLINE .)
    ENDSCOPE        reduce using rule 6 (expression -> VARNAME NEWLINE .)
    VARNAME         reduce using rule 6 (expression -> VARNAME NEWLINE .)
    GLOBALMARK      reduce using rule 6 (expression -> VARNAME NEWLINE .)
    BEGINSCOPE      shift and go to state 14

    beginscope                     shift and go to state 15

state 10

    (11) cell -> VARNAME . SLASH
    (12) cell -> VARNAME . QUESTMARK SLASH

    SLASH           shift and go to state 17
    QUESTMARK       shift and go to state 16


state 11

    (8) expression -> SLASH cell . moreCells NEWLINE
    (9) expression -> SLASH cell . moreCells NEWLINE beginscope definitions ENDSCOPE
    (16) moreCells -> .
    (17) moreCells -> . cell moreCells
    (11) cell -> . VARNAME SLASH
    (12) cell -> . VARNAME QUESTMARK SLASH
    (13) cell -> . OPENPAREN VARNAME CLOSEPAREN SLASH
    (14) cell -> . OPENPAREN VARNAME CLOSEPAREN QUESTMARK SLASH
    (15) cell -> . OPENPAREN VARNAME QUESTMARK CLOSEPAREN SLASH

    NEWLINE         reduce using rule 16 (moreCells -> .)
    VARNAME         shift and go to state 10
    OPENPAREN       shift and go to state 12

    cell                           shift and go to state 19
    moreCells                      shift and go to state 18

state 12

    (13) cell -> OPENPAREN . VARNAME CLOSEPAREN SLASH
    (14) cell -> OPENPAREN . VARNAME CLOSEPAREN QUESTMARK SLASH
    (15) cell -> OPENPAREN . VARNAME QUESTMARK CLOSEPAREN SLASH

    VARNAME         shift and go to state 20


state 13

    (5) oprex -> NEWLINE BEGINSCOPE expression ENDSCOPE .

    $end            reduce using rule 5 (oprex -> NEWLINE BEGINSCOPE expression ENDSCOPE .)


state 14

    (10) beginscope -> BEGINSCOPE .

    VARNAME         reduce using rule 10 (beginscope -> BEGINSCOPE .)
    GLOBALMARK      reduce using rule 10 (beginscope -> BEGINSCOPE .)
    ENDSCOPE        reduce using rule 10 (beginscope -> BEGINSCOPE .)


state 15

    (7) expression -> VARNAME NEWLINE beginscope . definitions ENDSCOPE
    (18) definitions -> .
    (19) definitions -> . definition definitions
    (20) definition -> . vardecl EQUALSIGN definition
    (21) definition -> . vardecl EQUALSIGN expression
    (22) definition -> . vardecl EQUALSIGN LITERAL NEWLINE
    (23) definition -> . vardecl COLON CHARCLASS NEWLINE
    (24) vardecl -> . VARNAME
    (25) vardecl -> . GLOBALMARK VARNAME

    ENDSCOPE        reduce using rule 18 (definitions -> .)
    VARNAME         shift and go to state 23
    GLOBALMARK      shift and go to state 21

    definitions                    shift and go to state 25
    vardecl                        shift and go to state 24
    definition                     shift and go to state 22

state 16

    (12) cell -> VARNAME QUESTMARK . SLASH

    SLASH           shift and go to state 26


state 17

    (11) cell -> VARNAME SLASH .

    VARNAME         reduce using rule 11 (cell -> VARNAME SLASH .)
    OPENPAREN       reduce using rule 11 (cell -> VARNAME SLASH .)
    NEWLINE         reduce using rule 11 (cell -> VARNAME SLASH .)


state 18

    (8) expression -> SLASH cell moreCells . NEWLINE
    (9) expression -> SLASH cell moreCells . NEWLINE beginscope definitions ENDSCOPE

    NEWLINE         shift and go to state 27


state 19

    (17) moreCells -> cell . moreCells
    (16) moreCells -> .
    (17) moreCells -> . cell moreCells
    (11) cell -> . VARNAME SLASH
    (12) cell -> . VARNAME QUESTMARK SLASH
    (13) cell -> . OPENPAREN VARNAME CLOSEPAREN SLASH
    (14) cell -> . OPENPAREN VARNAME CLOSEPAREN QUESTMARK SLASH
    (15) cell -> . OPENPAREN VARNAME QUESTMARK CLOSEPAREN SLASH

    NEWLINE         reduce using rule 16 (moreCells -> .)
    VARNAME         shift and go to state 10
    OPENPAREN       shift and go to state 12

    cell                           shift and go to state 19
    moreCells                      shift and go to state 28

state 20

    (13) cell -> OPENPAREN VARNAME . CLOSEPAREN SLASH
    (14) cell -> OPENPAREN VARNAME . CLOSEPAREN QUESTMARK SLASH
    (15) cell -> OPENPAREN VARNAME . QUESTMARK CLOSEPAREN SLASH

    CLOSEPAREN      shift and go to state 30
    QUESTMARK       shift and go to state 29


state 21

    (25) vardecl -> GLOBALMARK . VARNAME

    VARNAME         shift and go to state 31


state 22

    (19) definitions -> definition . definitions
    (18) definitions -> .
    (19) definitions -> . definition definitions
    (20) definition -> . vardecl EQUALSIGN definition
    (21) definition -> . vardecl EQUALSIGN expression
    (22) definition -> . vardecl EQUALSIGN LITERAL NEWLINE
    (23) definition -> . vardecl COLON CHARCLASS NEWLINE
    (24) vardecl -> . VARNAME
    (25) vardecl -> . GLOBALMARK VARNAME

    ENDSCOPE        reduce using rule 18 (definitions -> .)
    VARNAME         shift and go to state 23
    GLOBALMARK      shift and go to state 21

    definition                     shift and go to state 22
    vardecl                        shift and go to state 24
    definitions                    shift and go to state 32

state 23

    (24) vardecl -> VARNAME .

    EQUALSIGN       reduce using rule 24 (vardecl -> VARNAME .)
    COLON           reduce using rule 24 (vardecl -> VARNAME .)


state 24

    (20) definition -> vardecl . EQUALSIGN definition
    (21) definition -> vardecl . EQUALSIGN expression
    (22) definition -> vardecl . EQUALSIGN LITERAL NEWLINE
    (23) definition -> vardecl . COLON CHARCLASS NEWLINE

    EQUALSIGN       shift and go to state 34
    COLON           shift and go to state 33


state 25

    (7) expression -> VARNAME NEWLINE beginscope definitions . ENDSCOPE

    ENDSCOPE        shift and go to state 35


state 26

    (12) cell -> VARNAME QUESTMARK SLASH .

    VARNAME         reduce using rule 12 (cell -> VARNAME QUESTMARK SLASH .)
    OPENPAREN       reduce using rule 12 (cell -> VARNAME QUESTMARK SLASH .)
    NEWLINE         reduce using rule 12 (cell -> VARNAME QUESTMARK SLASH .)


state 27

    (8) expression -> SLASH cell moreCells NEWLINE .
    (9) expression -> SLASH cell moreCells NEWLINE . beginscope definitions ENDSCOPE
    (10) beginscope -> . BEGINSCOPE

    $end            reduce using rule 8 (expression -> SLASH cell moreCells NEWLINE .)
    ENDSCOPE        reduce using rule 8 (expression -> SLASH cell moreCells NEWLINE .)
    VARNAME         reduce using rule 8 (expression -> SLASH cell moreCells NEWLINE .)
    GLOBALMARK      reduce using rule 8 (expression -> SLASH cell moreCells NEWLINE .)
    BEGINSCOPE      shift and go to state 14

    beginscope                     shift and go to state 36

state 28

    (17) moreCells -> cell moreCells .

    NEWLINE         reduce using rule 17 (moreCells -> cell moreCells .)


state 29

    (15) cell -> OPENPAREN VARNAME QUESTMARK . CLOSEPAREN SLASH

    CLOSEPAREN      shift and go to state 37


state 30

    (13) cell -> OPENPAREN VARNAME CLOSEPAREN . SLASH
    (14) cell -> OPENPAREN VARNAME CLOSEPAREN . QUESTMARK SLASH

    SLASH           shift and go to state 39
    QUESTMARK       shift and go to state 38


state 31

    (25) vardecl -> GLOBALMARK VARNAME .

    EQUALSIGN       reduce using rule 25 (vardecl -> GLOBALMARK VARNAME .)
    COLON           reduce using rule 25 (vardecl -> GLOBALMARK VARNAME .)


state 32

    (19) definitions -> definition definitions .

    ENDSCOPE        reduce using rule 19 (definitions -> definition definitions .)


state 33

    (23) definition -> vardecl COLON . CHARCLASS NEWLINE

    CHARCLASS       shift and go to state 40


state 34

    (20) definition -> vardecl EQUALSIGN . definition
    (21) definition -> vardecl EQUALSIGN . expression
    (22) definition -> vardecl EQUALSIGN . LITERAL NEWLINE
    (20) definition -> . vardecl EQUALSIGN definition
    (21) definition -> . vardecl EQUALSIGN expression
    (22) definition -> . vardecl EQUALSIGN LITERAL NEWLINE
    (23) definition -> . vardecl COLON CHARCLASS NEWLINE
    (6) expression -> . VARNAME NEWLINE
    (7) expression -> . VARNAME NEWLINE beginscope definitions ENDSCOPE
    (8) expression -> . SLASH cell moreCells NEWLINE
    (9) expression -> . SLASH cell moreCells NEWLINE beginscope definitions ENDSCOPE
    (24) vardecl -> . VARNAME
    (25) vardecl -> . GLOBALMARK VARNAME

    LITERAL         shift and go to state 43
    VARNAME         shift and go to state 42
    SLASH           shift and go to state 6
    GLOBALMARK      shift and go to state 21

    definition                     shift and go to state 41
    vardecl                        shift and go to state 24
    expression                     shift and go to state 44

state 35

    (7) expression -> VARNAME NEWLINE beginscope definitions ENDSCOPE .

    $end            reduce using rule 7 (expression -> VARNAME NEWLINE beginscope definitions ENDSCOPE .)
    ENDSCOPE        reduce using rule 7 (expression -> VARNAME NEWLINE beginscope definitions ENDSCOPE .)
    VARNAME         reduce using rule 7 (expression -> VARNAME NEWLINE beginscope definitions ENDSCOPE .)
    GLOBALMARK      reduce using rule 7 (expression -> VARNAME NEWLINE beginscope definitions ENDSCOPE .)


state 36

    (9) expression -> SLASH cell moreCells NEWLINE beginscope . definitions ENDSCOPE
    (18) definitions -> .
    (19) definitions -> . definition definitions
    (20) definition -> . vardecl EQUALSIGN definition
    (21) definition -> . vardecl EQUALSIGN expression
    (22) definition -> . vardecl EQUALSIGN LITERAL NEWLINE
    (23) definition -> . vardecl COLON CHARCLASS NEWLINE
    (24) vardecl -> . VARNAME
    (25) vardecl -> . GLOBALMARK VARNAME

    ENDSCOPE        reduce using rule 18 (definitions -> .)
    VARNAME         shift and go to state 23
    GLOBALMARK      shift and go to state 21

    definition                     shift and go to state 22
    vardecl                        shift and go to state 24
    definitions                    shift and go to state 45

state 37

    (15) cell -> OPENPAREN VARNAME QUESTMARK CLOSEPAREN . SLASH

    SLASH           shift and go to state 46


state 38

    (14) cell -> OPENPAREN VARNAME CLOSEPAREN QUESTMARK . SLASH

    SLASH           shift and go to state 47


state 39

    (13) cell -> OPENPAREN VARNAME CLOSEPAREN SLASH .

    VARNAME         reduce using rule 13 (cell -> OPENPAREN VARNAME CLOSEPAREN SLASH .)
    OPENPAREN       reduce using rule 13 (cell -> OPENPAREN VARNAME CLOSEPAREN SLASH .)
    NEWLINE         reduce using rule 13 (cell -> OPENPAREN VARNAME CLOSEPAREN SLASH .)


state 40

    (23) definition -> vardecl COLON CHARCLASS . NEWLINE

    NEWLINE         shift and go to state 48


state 41

    (20) definition -> vardecl EQUALSIGN definition .

    VARNAME         reduce using rule 20 (definition -> vardecl EQUALSIGN definition .)
    GLOBALMARK      reduce using rule 20 (definition -> vardecl EQUALSIGN definition .)
    ENDSCOPE        reduce using rule 20 (definition -> vardecl EQUALSIGN definition .)


state 42

    (6) expression -> VARNAME . NEWLINE
    (7) expression -> VARNAME . NEWLINE beginscope definitions ENDSCOPE
    (24) vardecl -> VARNAME .

    NEWLINE         shift and go to state 9
    EQUALSIGN       reduce using rule 24 (vardecl -> VARNAME .)
    COLON           reduce using rule 24 (vardecl -> VARNAME .)


state 43

    (22) definition -> vardecl EQUALSIGN LITERAL . NEWLINE

    NEWLINE         shift and go to state 49


state 44

    (21) definition -> vardecl EQUALSIGN expression .

    VARNAME         reduce using rule 21 (definition -> vardecl EQUALSIGN expression .)
    GLOBALMARK      reduce using rule 21 (definition -> vardecl EQUALSIGN expression .)
    ENDSCOPE        reduce using rule 21 (definition -> vardecl EQUALSIGN expression .)


state 45

    (9) expression -> SLASH cell moreCells NEWLINE beginscope definitions . ENDSCOPE

    ENDSCOPE        shift and go to state 50


state 46

    (15) cell -> OPENPAREN VARNAME QUESTMARK CLOSEPAREN SLASH .

    VARNAME         reduce using rule 15 (cell -> OPENPAREN VARNAME QUESTMARK CLOSEPAREN SLASH .)
    OPENPAREN       reduce using rule 15 (cell -> OPENPAREN VARNAME QUESTMARK CLOSEPAREN SLASH .)
    NEWLINE         reduce using rule 15 (cell -> OPENPAREN VARNAME QUESTMARK CLOSEPAREN SLASH .)


state 47

    (14) cell -> OPENPAREN VARNAME CLOSEPAREN QUESTMARK SLASH .

    VARNAME         reduce using rule 14 (cell -> OPENPAREN VARNAME CLOSEPAREN QUESTMARK SLASH .)
    OPENPAREN       reduce using rule 14 (cell -> OPENPAREN VARNAME CLOSEPAREN QUESTMARK SLASH .)
    NEWLINE         reduce using rule 14 (cell -> OPENPAREN VARNAME CLOSEPAREN QUESTMARK SLASH .)


state 48

    (23) definition -> vardecl COLON CHARCLASS NEWLINE .

    VARNAME         reduce using rule 23 (definition -> vardecl COLON CHARCLASS NEWLINE .)
    GLOBALMARK      reduce using rule 23 (definition -> vardecl COLON CHARCLASS NEWLINE .)
    ENDSCOPE        reduce using rule 23 (definition -> vardecl COLON CHARCLASS NEWLINE .)


state 49

    (22) definition -> vardecl EQUALSIGN LITERAL NEWLINE .

    VARNAME         reduce using rule 22 (definition -> vardecl EQUALSIGN LITERAL NEWLINE .)
    GLOBALMARK      reduce using rule 22 (definition -> vardecl EQUALSIGN LITERAL NEWLINE .)
    ENDSCOPE        reduce using rule 22 (definition -> vardecl EQUALSIGN LITERAL NEWLINE .)


state 50

    (9) expression -> SLASH cell moreCells NEWLINE beginscope definitions ENDSCOPE .

    $end            reduce using rule 9 (expression -> SLASH cell moreCells NEWLINE beginscope definitions ENDSCOPE .)
    ENDSCOPE        reduce using rule 9 (expression -> SLASH cell moreCells NEWLINE beginscope definitions ENDSCOPE .)
    VARNAME         reduce using rule 9 (expression -> SLASH cell moreCells NEWLINE beginscope definitions ENDSCOPE .)
    GLOBALMARK      reduce using rule 9 (expression -> SLASH cell moreCells NEWLINE beginscope definitions ENDSCOPE .)

